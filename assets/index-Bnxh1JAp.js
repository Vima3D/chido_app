(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var Sf={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function YE(){if(ly)return xl;ly=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:f}}return xl.Fragment=e,xl.jsx=i,xl.jsxs=i,xl}var uy;function XE(){return uy||(uy=1,Sf.exports=YE()),Sf.exports}var W=XE(),bf={exports:{}},_t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function KE(){if(oy)return _t;oy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),z=Symbol.iterator;function Q(N){return N===null||typeof N!="object"?null:(N=z&&N[z]||N["@@iterator"],typeof N=="function"?N:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function mt(N,Y,et){this.props=N,this.context=Y,this.refs=J,this.updater=et||$}mt.prototype.isReactComponent={},mt.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},mt.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function gt(){}gt.prototype=mt.prototype;function ut(N,Y,et){this.props=N,this.context=Y,this.refs=J,this.updater=et||$}var Ot=ut.prototype=new gt;Ot.constructor=ut,nt(Ot,mt.prototype),Ot.isPureReactComponent=!0;var Ft=Array.isArray;function It(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function w(N,Y,et){var st=et.ref;return{$$typeof:r,type:N,key:Y,ref:st!==void 0?st:null,props:et}}function O(N,Y){return w(N.type,Y,N.props)}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(et){return Y[et]})}var R=/\/+/g;function ne(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):Y.toString(36)}function Ce(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(It,It):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,Y,et,st,pt){var At=typeof N;(At==="undefined"||At==="boolean")&&(N=null);var Mt=!1;if(N===null)Mt=!0;else switch(At){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(N.$$typeof){case r:case e:Mt=!0;break;case A:return Mt=N._init,k(Mt(N._payload),Y,et,st,pt)}}if(Mt)return pt=pt(N),Mt=st===""?"."+ne(N,0):st,Ft(pt)?(et="",Mt!=null&&(et=Mt.replace(R,"$&/")+"/"),k(pt,Y,et,"",function(xa){return xa})):pt!=null&&(I(pt)&&(pt=O(pt,et+(pt.key==null||N&&N.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Mt)),Y.push(pt)),1;Mt=0;var we=st===""?".":st+":";if(Ft(N))for(var ie=0;ie<N.length;ie++)st=N[ie],At=we+ne(st,ie),Mt+=k(st,Y,et,At,pt);else if(ie=Q(N),typeof ie=="function")for(N=ie.call(N),ie=0;!(st=N.next()).done;)st=st.value,At=we+ne(st,ie++),Mt+=k(st,Y,et,At,pt);else if(At==="object"){if(typeof N.then=="function")return k(Ce(N),Y,et,st,pt);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function tt(N,Y,et){if(N==null)return N;var st=[],pt=0;return k(N,st,"","",function(At){return Y.call(et,At,pt++)}),st}function ht(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(et){(N._status===0||N._status===-1)&&(N._status=1,N._result=et)},function(et){(N._status===0||N._status===-1)&&(N._status=2,N._result=et)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var Ut=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Ht={map:tt,forEach:function(N,Y,et){tt(N,function(){Y.apply(this,arguments)},et)},count:function(N){var Y=0;return tt(N,function(){Y++}),Y},toArray:function(N){return tt(N,function(Y){return Y})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return _t.Activity=b,_t.Children=Ht,_t.Component=mt,_t.Fragment=i,_t.Profiler=u,_t.PureComponent=ut,_t.StrictMode=s,_t.Suspense=v,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},_t.cache=function(N){return function(){return N.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(N,Y,et){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var st=nt({},N.props),pt=N.key;if(Y!=null)for(At in Y.key!==void 0&&(pt=""+Y.key),Y)!S.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(st[At]=Y[At]);var At=arguments.length-2;if(At===1)st.children=et;else if(1<At){for(var Mt=Array(At),we=0;we<At;we++)Mt[we]=arguments[we+2];st.children=Mt}return w(N.type,pt,st)},_t.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},_t.createElement=function(N,Y,et){var st,pt={},At=null;if(Y!=null)for(st in Y.key!==void 0&&(At=""+Y.key),Y)S.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(pt[st]=Y[st]);var Mt=arguments.length-2;if(Mt===1)pt.children=et;else if(1<Mt){for(var we=Array(Mt),ie=0;ie<Mt;ie++)we[ie]=arguments[ie+2];pt.children=we}if(N&&N.defaultProps)for(st in Mt=N.defaultProps,Mt)pt[st]===void 0&&(pt[st]=Mt[st]);return w(N,At,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(N){return{$$typeof:y,render:N}},_t.isValidElement=I,_t.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:ht}},_t.memo=function(N,Y){return{$$typeof:_,type:N,compare:Y===void 0?null:Y}},_t.startTransition=function(N){var Y=D.T,et={};D.T=et;try{var st=N(),pt=D.S;pt!==null&&pt(et,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,Ut)}catch(At){Ut(At)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),D.T=Y}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(N){return D.H.use(N)},_t.useActionState=function(N,Y,et){return D.H.useActionState(N,Y,et)},_t.useCallback=function(N,Y){return D.H.useCallback(N,Y)},_t.useContext=function(N){return D.H.useContext(N)},_t.useDebugValue=function(){},_t.useDeferredValue=function(N,Y){return D.H.useDeferredValue(N,Y)},_t.useEffect=function(N,Y){return D.H.useEffect(N,Y)},_t.useEffectEvent=function(N){return D.H.useEffectEvent(N)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(N,Y,et){return D.H.useImperativeHandle(N,Y,et)},_t.useInsertionEffect=function(N,Y){return D.H.useInsertionEffect(N,Y)},_t.useLayoutEffect=function(N,Y){return D.H.useLayoutEffect(N,Y)},_t.useMemo=function(N,Y){return D.H.useMemo(N,Y)},_t.useOptimistic=function(N,Y){return D.H.useOptimistic(N,Y)},_t.useReducer=function(N,Y,et){return D.H.useReducer(N,Y,et)},_t.useRef=function(N){return D.H.useRef(N)},_t.useState=function(N){return D.H.useState(N)},_t.useSyncExternalStore=function(N,Y,et){return D.H.useSyncExternalStore(N,Y,et)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.0",_t}var cy;function rd(){return cy||(cy=1,bf.exports=KE()),bf.exports}var Vn=rd(),Rf={exports:{}},zl={},Cf={exports:{}},wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function ZE(){return hy||(hy=1,(function(r){function e(k,tt){var ht=k.length;k.push(tt);t:for(;0<ht;){var Ut=ht-1>>>1,Ht=k[Ut];if(0<u(Ht,tt))k[Ut]=tt,k[ht]=Ht,ht=Ut;else break t}}function i(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var tt=k[0],ht=k.pop();if(ht!==tt){k[0]=ht;t:for(var Ut=0,Ht=k.length,N=Ht>>>1;Ut<N;){var Y=2*(Ut+1)-1,et=k[Y],st=Y+1,pt=k[st];if(0>u(et,ht))st<Ht&&0>u(pt,et)?(k[Ut]=pt,k[st]=ht,Ut=st):(k[Ut]=et,k[Y]=ht,Ut=Y);else if(st<Ht&&0>u(pt,ht))k[Ut]=pt,k[st]=ht,Ut=st;else break t}}return tt}function u(k,tt){var ht=k.sortIndex-tt.sortIndex;return ht!==0?ht:k.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,b=null,z=3,Q=!1,$=!1,nt=!1,J=!1,mt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Ot(k){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=k)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Ft(k){if(nt=!1,Ot(k),!$)if(i(v)!==null)$=!0,It||(It=!0,x());else{var tt=i(_);tt!==null&&Ce(Ft,tt.startTime-k)}}var It=!1,D=-1,S=5,w=-1;function O(){return J?!0:!(r.unstable_now()-w<S)}function I(){if(J=!1,It){var k=r.unstable_now();w=k;var tt=!0;try{t:{$=!1,nt&&(nt=!1,gt(D),D=-1),Q=!0;var ht=z;try{e:{for(Ot(k),b=i(v);b!==null&&!(b.expirationTime>k&&O());){var Ut=b.callback;if(typeof Ut=="function"){b.callback=null,z=b.priorityLevel;var Ht=Ut(b.expirationTime<=k);if(k=r.unstable_now(),typeof Ht=="function"){b.callback=Ht,Ot(k),tt=!0;break e}b===i(v)&&s(v),Ot(k)}else s(v);b=i(v)}if(b!==null)tt=!0;else{var N=i(_);N!==null&&Ce(Ft,N.startTime-k),tt=!1}}break t}finally{b=null,z=ht,Q=!1}tt=void 0}}finally{tt?x():It=!1}}}var x;if(typeof ut=="function")x=function(){ut(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=I,x=function(){ne.postMessage(null)}}else x=function(){mt(I,0)};function Ce(k,tt){D=mt(function(){k(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return z},r.unstable_next=function(k){switch(z){case 1:case 2:case 3:var tt=3;break;default:tt=z}var ht=z;z=tt;try{return k()}finally{z=ht}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(k,tt){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ht=z;z=k;try{return tt()}finally{z=ht}},r.unstable_scheduleCallback=function(k,tt,ht){var Ut=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ut+ht:Ut):ht=Ut,k){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ht+Ht,k={id:A++,callback:tt,priorityLevel:k,startTime:ht,expirationTime:Ht,sortIndex:-1},ht>Ut?(k.sortIndex=ht,e(_,k),i(v)===null&&k===i(_)&&(nt?(gt(D),D=-1):nt=!0,Ce(Ft,ht-Ut))):(k.sortIndex=Ht,e(v,k),$||Q||($=!0,It||(It=!0,x()))),k},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(k){var tt=z;return function(){var ht=z;z=tt;try{return k.apply(this,arguments)}finally{z=ht}}}})(wf)),wf}var fy;function JE(){return fy||(fy=1,Cf.exports=ZE()),Cf.exports}var Df={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function $E(){if(dy)return Qe;dy=1;var r=rd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin),z=typeof _.integrity=="string"?_.integrity:void 0,Q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:z,fetchPriority:Q}):A==="script"&&s.d.X(v,{crossOrigin:b,integrity:z,fetchPriority:Q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var my;function WE(){if(my)return Df.exports;my=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Df.exports=$E(),Df.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function tT(){if(gy)return zl;gy=1;var r=JE(),e=rd(),i=WE();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,z=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),mt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Ft=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nt:return"Fragment";case mt:return"Profiler";case J:return"StrictMode";case Ft:return"Suspense";case It:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case ut:return t.displayName||"Context";case gt:return(t._context.displayName||"Context")+".Consumer";case Ot:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch{}}return null}var Ce=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function N(t){return{current:t}}function Y(t){0>Ht||(t.current=Ut[Ht],Ut[Ht]=null,Ht--)}function et(t,n){Ht++,Ut[Ht]=t.current,t.current=n}var st=N(null),pt=N(null),At=N(null),Mt=N(null);function we(t,n){switch(et(At,n),et(pt,t),et(st,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ip(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ip(n),t=Np(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(st),et(st,t)}function ie(){Y(st),Y(pt),Y(At)}function xa(t){t.memoizedState!==null&&et(Mt,t);var n=st.current,a=Np(n,t.type);n!==a&&(et(pt,t),et(st,a))}function vs(t){pt.current===t&&(Y(st),Y(pt)),Mt.current===t&&(Y(Mt),Il._currentValue=ht)}var Es,Ts;function Fn(t){if(Es===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Es=n&&n[1]||"",Ts=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+Ts}var Ir=!1;function za(t,n){if(!t||Ir)return"";Ir=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var j=P}Reflect.construct(t,[],F)}else{try{F.call()}catch(P){j=P}t.call(F.prototype)}}else{try{throw Error()}catch(P){j=P}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&j&&typeof P.stack=="string")return[P.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var C=g.split(`
`),B=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===B.length)for(l=C.length-1,c=B.length-1;1<=l&&0<=c&&C[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==B[c]){var H=`
`+C[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{Ir=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Fn(a):""}function Nr(t,n){switch(t.tag){case 26:case 27:case 5:return Fn(t.type);case 16:return Fn("Lazy");case 13:return t.child!==n&&n!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return za(t.type,!1);case 11:return za(t.type.render,!1);case 1:return za(t.type,!0);case 31:return Fn("Activity");default:return""}}function Or(t){try{var n="",a=null;do n+=Nr(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var me=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,bc=r.unstable_shouldYield,au=r.unstable_requestPaint,Ke=r.unstable_now,Ua=r.unstable_getCurrentPriorityLevel,Mr=r.unstable_ImmediatePriority,xr=r.unstable_UserBlockingPriority,Gi=r.unstable_NormalPriority,Rc=r.unstable_LowPriority,su=r.unstable_IdlePriority,ru=r.log,lu=r.unstable_setDisableYieldValue,On=null,Ue=null;function pn(t){if(typeof ru=="function"&&lu(t),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(On,t)}catch{}}var oe=Math.clz32?Math.clz32:ou,uu=Math.log,As=Math.LN2;function ou(t){return t>>>=0,t===0?32:31-(uu(t)/As|0)|0}var Yn=256,La=262144,ge=4194304;function Xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Kn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Xn(l):(g&=E,g!==0?c=Xn(g):a||(a=E&~t,a!==0&&(c=Xn(a))))):(E=l&~h,E!==0?c=Xn(E):g!==0?c=Xn(g):a||(a=l&~t,a!==0&&(c=Xn(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Mn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Cc(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var t=ge;return ge<<=1,(ge&62914560)===0&&(ge=4194304),t}function Zn(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ba(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,B=t.hiddenUpdates;for(a=g&~a;0<a;){var H=31-oe(a),F=1<<H;E[H]=0,C[H]=-1;var j=B[H];if(j!==null)for(B[H]=null,H=0;H<j.length;H++){var P=j[H];P!==null&&(P.lane&=-536870913)}a&=~F}l!==0&&ja(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function ja(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-oe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-oe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Ur(t,n){var a=n&-n;return a=(a&42)!==0?1:qa(a),(a&(t.suspendedLanes|n))!==0?0:a}function qa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ei(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:ty(t.type))}function xn(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var zn=Math.random().toString(36).slice(2),pe="__reactFiber$"+zn,Ne="__reactProps$"+zn,Jn="__reactContainer$"+zn,Ss="__reactEvents$"+zn,Dc="__reactListeners$"+zn,fu="__reactHandles$"+zn,du="__reactResources$"+zn,$n="__reactMarker$"+zn;function bs(t){delete t[pe],delete t[Ne],delete t[Ss],delete t[Dc],delete t[fu]}function Wn(t){var n=t[pe];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Jn]||a[pe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Bp(t);t!==null;){if(a=t[pe])return a;t=Bp(t)}return n}t=a,a=t.parentNode}return null}function yn(t){if(t=t[pe]||t[Jn]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ti(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ye(t){t[$n]=!0}var Lr=new Set,Br={};function ei(t,n){ni(t,n),ni(t+"Capture",n)}function ni(t,n){for(Br[t]=n,t=0;t<n.length;t++)Lr.add(n[t])}var jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qr={},Pr={};function mu(t){return me.call(Pr,t)?!0:me.call(qr,t)?!1:jr.test(t)?Pr[t]=!0:(qr[t]=!0,!1)}function Rs(t,n,a){if(mu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function un(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _e(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Oe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hr(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function kt(t){if(!t._valueTracker){var n=Qi(t)?"checked":"value";t._valueTracker=Hr(t,n,""+t[n])}}function Pa(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ii(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ha=/[\n"\\]/g;function $e(t){return t.replace(Ha,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Cs(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Oe(n)):t.value!==""+Oe(n)&&(t.value=""+Oe(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?kr(t,g,Oe(n)):a!=null?kr(t,g,Oe(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Oe(E):t.removeAttribute("name")}function gu(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){kt(t);return}a=a!=null?""+Oe(a):"",n=n!=null?""+Oe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),kt(t)}function kr(t,n,a){n==="number"&&ii(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Fi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Oe(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function pu(t,n,a){if(n!=null&&(n=""+Oe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Oe(a):""}function Yi(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ce(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Oe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),kt(t)}function We(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||yu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Qr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Gr(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Gr(t,h,n[h])}function ws(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ds(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Un(){}var Fr=null;function _n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,ai=null;function ka(t){var n=yn(t);if(n&&(t=n.stateNode)){var a=t[Ne]||null;t:switch(t=n.stateNode,n.type){case"input":if(Cs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[Ne]||null;if(!c)throw Error(s(90));Cs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Pa(l)}break t;case"textarea":pu(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Fi(t,!!a.multiple,n,!1)}}}var Vs=!1;function Zi(t,n,a){if(Vs)return t(n,a);Vs=!0;try{var l=t(n);return l}finally{if(Vs=!1,(Ki!==null||ai!==null)&&(ho(),Ki&&(n=Ki,t=ai,ai=Ki=null,ka(n),t)))for(n=0;n<t.length;n++)ka(t[n])}}function Ln(t,n){var a=t.stateNode;if(a===null)return null;var l=a[Ne]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ga=!1;if(vn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){Ga=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{Ga=!1}var si=null,Yr=null,Qa=null;function Xr(){if(Qa)return Qa;var t,n=Yr,a=n.length,l,c="value"in si?si.value:si.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return Qa=c.slice(t,1<l?1-l:void 0)}function Fa(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Bn(){return!1}function Le(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ti:Bn,this.isPropagationStopped=Bn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=Le(Ai),Ji=b({},Ai,{view:0,detail:0}),Kr=Le(Ji),$i,Is,li,Ns=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?($i=t.screenX-li.screenX,Is=t.screenY-li.screenY):Is=$i=0,li=t),$i)},movementY:function(t){return"movementY"in t?t.movementY:Is}}),Zr=Le(Ns),Ya=b({},Ns,{dataTransfer:0}),vu=Le(Ya),Eu=b({},Ji,{relatedTarget:0}),Xa=Le(Eu),Jr=b({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),Tu=Le(Jr),Os=b({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Au=Le(Os),Su=b({},Ai,{data:0}),ui=Le(Su),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Cu[t])?!!n[t]:!1}function Wi(){return wu}var Ze=b({},Ji,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wi,charCode:function(t){return t.type==="keypress"?Fa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Du=Le(Ze),Vu=b({},Ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Si=Le(Vu),o=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wi}),m=Le(o),p=b({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Le(p),U=b({},Ns,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Le(U),Z=b({},Ai,{newState:0,oldState:0}),Et=Le(Z),ce=[9,13,27,32],jt=vn&&"CompositionEvent"in window,ae=null;vn&&"documentMode"in document&&(ae=document.documentMode);var En=vn&&"TextEvent"in window&&!ae,oi=vn&&(!jt||ae&&8<ae&&11>=ae),jn=" ",qn=!1;function Ka(t,n){switch(t){case"keyup":return ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ms(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xs=!1;function y0(t,n){switch(t){case"compositionend":return Ms(n);case"keypress":return n.which!==32?null:(qn=!0,jn);case"textInput":return t=n.data,t===jn&&qn?null:t;default:return null}}function _0(t,n){if(xs)return t==="compositionend"||!jt&&Ka(t,n)?(t=Xr(),Qa=Yr=si=null,xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return oi&&n.locale!=="ko"?null:n.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!v0[t.type]:n==="textarea"}function Hd(t,n,a,l){Ki?ai?ai.push(l):ai=[l]:Ki=l,n=vo(n,"onChange"),0<n.length&&(a=new ri("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var $r=null,Wr=null;function E0(t){bp(t,0)}function Iu(t){var n=ln(t);if(Pa(n))return t}function kd(t,n){if(t==="change")return n}var Gd=!1;if(vn){var Vc;if(vn){var Ic="oninput"in document;if(!Ic){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),Ic=typeof Qd.oninput=="function"}Vc=Ic}else Vc=!1;Gd=Vc&&(!document.documentMode||9<document.documentMode)}function Fd(){$r&&($r.detachEvent("onpropertychange",Yd),Wr=$r=null)}function Yd(t){if(t.propertyName==="value"&&Iu(Wr)){var n=[];Hd(n,Wr,t,_n(t)),Zi(E0,n)}}function T0(t,n,a){t==="focusin"?(Fd(),$r=n,Wr=a,$r.attachEvent("onpropertychange",Yd)):t==="focusout"&&Fd()}function A0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Wr)}function S0(t,n){if(t==="click")return Iu(n)}function b0(t,n){if(t==="input"||t==="change")return Iu(n)}function R0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:R0;function tl(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!me.call(n,c)||!on(t[c],n[c]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var a=Xd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xd(a)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Jd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ii(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ii(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var C0=vn&&"documentMode"in document&&11>=document.documentMode,zs=null,Oc=null,el=null,Mc=!1;function $d(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mc||zs==null||zs!==ii(l)||(l=zs,"selectionStart"in l&&Nc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=vo(Oc,"onSelect"),0<l.length&&(n=new ri("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=zs)))}function Za(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Us={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionrun:Za("Transition","TransitionRun"),transitionstart:Za("Transition","TransitionStart"),transitioncancel:Za("Transition","TransitionCancel"),transitionend:Za("Transition","TransitionEnd")},xc={},Wd={};vn&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ja(t){if(xc[t])return xc[t];if(!Us[t])return t;var n=Us[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wd)return xc[t]=n[a];return t}var tm=Ja("animationend"),em=Ja("animationiteration"),nm=Ja("animationstart"),w0=Ja("transitionrun"),D0=Ja("transitionstart"),V0=Ja("transitioncancel"),im=Ja("transitionend"),am=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function Pn(t,n){am.set(t,n),ei(n,[t])}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],Ls=0,Uc=0;function Ou(){for(var t=Ls,n=Uc=Ls=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var h=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&sm(a,c,h)}}function Mu(t,n,a,l){Tn[Ls++]=t,Tn[Ls++]=n,Tn[Ls++]=a,Tn[Ls++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,a,l){return Mu(t,n,a,l),xu(t)}function $a(t,n){return Mu(t,null,null,n),xu(t)}function sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-oe(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function xu(t){if(50<Sl)throw Sl=0,Fh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Bs={};function I0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,l){return new I0(t,n,a,l)}function Bc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function zu(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")Bc(t)&&(g=1);else if(typeof t=="string")g=zE(t,a,st.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=cn(31,a,n,c),t.elementType=w,t.lanes=h,t;case nt:return Wa(a.children,c,h,n);case J:g=8,c|=24;break;case mt:return t=cn(12,a,n,c|2),t.elementType=mt,t.lanes=h,t;case Ft:return t=cn(13,a,n,c),t.elementType=Ft,t.lanes=h,t;case It:return t=cn(19,a,n,c),t.elementType=It,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ut:g=10;break t;case gt:g=9;break t;case Ot:g=11;break t;case D:g=14;break t;case S:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function Wa(t,n,a,l){return t=cn(7,t,l,n),t.lanes=a,t}function jc(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function lm(t){var n=cn(18,null,null,0);return n.stateNode=t,n}function qc(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var um=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var a=um.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Or(n)},um.set(t,n),n)}return{value:t,source:n,stack:Or(n)}}var js=[],qs=0,Uu=null,nl=0,Sn=[],bn=0,ta=null,ci=1,hi="";function Ri(t,n){js[qs++]=nl,js[qs++]=Uu,Uu=t,nl=n}function om(t,n,a){Sn[bn++]=ci,Sn[bn++]=hi,Sn[bn++]=ta,ta=t;var l=ci;t=hi;var c=32-oe(l)-1;l&=~(1<<c),a+=1;var h=32-oe(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,ci=1<<32-oe(n)+c|a<<c|l,hi=h+t}else ci=1<<h|a<<c|l,hi=t}function Pc(t){t.return!==null&&(Ri(t,1),om(t,1,0))}function Hc(t){for(;t===Uu;)Uu=js[--qs],js[qs]=null,nl=js[--qs],js[qs]=null;for(;t===ta;)ta=Sn[--bn],Sn[bn]=null,hi=Sn[--bn],Sn[bn]=null,ci=Sn[--bn],Sn[bn]=null}function cm(t,n){Sn[bn++]=ci,Sn[bn++]=hi,Sn[bn++]=ta,ci=n.id,hi=n.overflow,ta=t}var Be=null,Wt=null,Nt=!1,ea=null,Rn=!1,kc=Error(s(519));function na(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw il(An(n,t)),kc}function hm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[pe]=t,n[Ne]=l,a){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Rt(Rl[a],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),Yi(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Dp(n.textContent,a)?(l.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),l.onScroll!=null&&Rt("scroll",n),l.onScrollEnd!=null&&Rt("scrollend",n),l.onClick!=null&&(n.onclick=Un),n=!0):n=!1,n||na(t,!0)}function fm(t){for(Be=t.return;Be;)switch(Be.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Be=Be.return}}function Ps(t){if(t!==Be)return!1;if(!Nt)return fm(t),Nt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||uf(t.type,t.memoizedProps)),a=!a),a&&Wt&&na(t),fm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Lp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Wt=Lp(t)}else n===27?(n=Wt,pa(t.type)?(t=df,df=null,Wt=t):Wt=n):Wt=Be?wn(t.stateNode.nextSibling):null;return!0}function ts(){Wt=Be=null,Nt=!1}function Gc(){var t=ea;return t!==null&&(an===null?an=t:an.push.apply(an,t),ea=null),t}function il(t){ea===null?ea=[t]:ea.push(t)}var Qc=N(null),es=null,Ci=null;function ia(t,n,a){et(Qc,n._currentValue),n._currentValue=a}function wi(t){t._currentValue=Qc.current,Y(Qc)}function Fc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Yc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Fc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Fc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Hs(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;on(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===Mt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Il):t=[Il])}c=c.return}t!==null&&Yc(n,t,a,l),n.flags|=262144}function Lu(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ns(t){es=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function je(t){return dm(es,t)}function Bu(t,n){return es===null&&ns(t),dm(t,n)}function dm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return a}var N0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},O0=r.unstable_scheduleCallback,M0=r.unstable_NormalPriority,ve={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new N0,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&O0(M0,function(){t.controller.abort()})}var sl=null,Kc=0,ks=0,Gs=null;function x0(t,n){if(sl===null){var a=sl=[];Kc=0,ks=$h(),Gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Kc++,n.then(mm,mm),n}function mm(){if(--Kc===0&&sl!==null){Gs!==null&&(Gs.status="fulfilled");var t=sl;sl=null,ks=0,Gs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function z0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var gm=k.S;k.S=function(t,n){$g=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&x0(t,n),gm!==null&&gm(t,n)};var is=N(null);function Zc(){var t=is.current;return t!==null?t:Jt.pooledCache}function ju(t,n){n===null?et(is,is.current):et(is,n.pool)}function pm(){var t=Zc();return t===null?null:{parent:ve._currentValue,pool:t}}var Qs=Error(s(460)),Jc=Error(s(474)),qu=Error(s(542)),Pu={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _m(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Un,Un),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(Un,Un);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw ss=n,Qs}}function as(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ss=a,Qs):a}}var ss=null;function vm(){if(ss===null)throw Error(s(459));var t=ss;return ss=null,t}function Em(t){if(t===Qs||t===qu)throw Error(s(483))}var Fs=null,rl=0;function Hu(t){var n=rl;return rl+=1,Fs===null&&(Fs=[]),_m(Fs,t,n)}function ll(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ku(t,n){throw n.$$typeof===z?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Tm(t){function n(M,V){if(t){var L=M.deletions;L===null?(M.deletions=[V],M.flags|=16):L.push(V)}}function a(M,V){if(!t)return null;for(;V!==null;)n(M,V),V=V.sibling;return null}function l(M){for(var V=new Map;M!==null;)M.key!==null?V.set(M.key,M):V.set(M.index,M),M=M.sibling;return V}function c(M,V){return M=bi(M,V),M.index=0,M.sibling=null,M}function h(M,V,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<V?(M.flags|=67108866,V):L):(M.flags|=67108866,V)):(M.flags|=1048576,V)}function g(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,V,L,G){return V===null||V.tag!==6?(V=jc(L,M.mode,G),V.return=M,V):(V=c(V,L),V.return=M,V)}function C(M,V,L,G){var ot=L.type;return ot===nt?H(M,V,L.props.children,G,L.key):V!==null&&(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&as(ot)===V.type)?(V=c(V,L.props),ll(V,L),V.return=M,V):(V=zu(L.type,L.key,L.props,null,M.mode,G),ll(V,L),V.return=M,V)}function B(M,V,L,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=qc(L,M.mode,G),V.return=M,V):(V=c(V,L.children||[]),V.return=M,V)}function H(M,V,L,G,ot){return V===null||V.tag!==7?(V=Wa(L,M.mode,G,ot),V.return=M,V):(V=c(V,L),V.return=M,V)}function F(M,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=jc(""+V,M.mode,L),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Q:return L=zu(V.type,V.key,V.props,null,M.mode,L),ll(L,V),L.return=M,L;case $:return V=qc(V,M.mode,L),V.return=M,V;case S:return V=as(V),F(M,V,L)}if(Ce(V)||x(V))return V=Wa(V,M.mode,L,null),V.return=M,V;if(typeof V.then=="function")return F(M,Hu(V),L);if(V.$$typeof===ut)return F(M,Bu(M,V),L);ku(M,V)}return null}function j(M,V,L,G){var ot=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ot!==null?null:E(M,V,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:return L.key===ot?C(M,V,L,G):null;case $:return L.key===ot?B(M,V,L,G):null;case S:return L=as(L),j(M,V,L,G)}if(Ce(L)||x(L))return ot!==null?null:H(M,V,L,G,null);if(typeof L.then=="function")return j(M,V,Hu(L),G);if(L.$$typeof===ut)return j(M,V,Bu(M,L),G);ku(M,L)}return null}function P(M,V,L,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(L)||null,E(V,M,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return M=M.get(G.key===null?L:G.key)||null,C(V,M,G,ot);case $:return M=M.get(G.key===null?L:G.key)||null,B(V,M,G,ot);case S:return G=as(G),P(M,V,L,G,ot)}if(Ce(G)||x(G))return M=M.get(L)||null,H(V,M,G,ot,null);if(typeof G.then=="function")return P(M,V,L,Hu(G),ot);if(G.$$typeof===ut)return P(M,V,L,Bu(V,G),ot);ku(V,G)}return null}function rt(M,V,L,G){for(var ot=null,Lt=null,lt=V,St=V=0,wt=null;lt!==null&&St<L.length;St++){lt.index>St?(wt=lt,lt=null):wt=lt.sibling;var Bt=j(M,lt,L[St],G);if(Bt===null){lt===null&&(lt=wt);break}t&&lt&&Bt.alternate===null&&n(M,lt),V=h(Bt,V,St),Lt===null?ot=Bt:Lt.sibling=Bt,Lt=Bt,lt=wt}if(St===L.length)return a(M,lt),Nt&&Ri(M,St),ot;if(lt===null){for(;St<L.length;St++)lt=F(M,L[St],G),lt!==null&&(V=h(lt,V,St),Lt===null?ot=lt:Lt.sibling=lt,Lt=lt);return Nt&&Ri(M,St),ot}for(lt=l(lt);St<L.length;St++)wt=P(lt,M,St,L[St],G),wt!==null&&(t&&wt.alternate!==null&&lt.delete(wt.key===null?St:wt.key),V=h(wt,V,St),Lt===null?ot=wt:Lt.sibling=wt,Lt=wt);return t&&lt.forEach(function(Ta){return n(M,Ta)}),Nt&&Ri(M,St),ot}function ft(M,V,L,G){if(L==null)throw Error(s(151));for(var ot=null,Lt=null,lt=V,St=V=0,wt=null,Bt=L.next();lt!==null&&!Bt.done;St++,Bt=L.next()){lt.index>St?(wt=lt,lt=null):wt=lt.sibling;var Ta=j(M,lt,Bt.value,G);if(Ta===null){lt===null&&(lt=wt);break}t&&lt&&Ta.alternate===null&&n(M,lt),V=h(Ta,V,St),Lt===null?ot=Ta:Lt.sibling=Ta,Lt=Ta,lt=wt}if(Bt.done)return a(M,lt),Nt&&Ri(M,St),ot;if(lt===null){for(;!Bt.done;St++,Bt=L.next())Bt=F(M,Bt.value,G),Bt!==null&&(V=h(Bt,V,St),Lt===null?ot=Bt:Lt.sibling=Bt,Lt=Bt);return Nt&&Ri(M,St),ot}for(lt=l(lt);!Bt.done;St++,Bt=L.next())Bt=P(lt,M,St,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?St:Bt.key),V=h(Bt,V,St),Lt===null?ot=Bt:Lt.sibling=Bt,Lt=Bt);return t&&lt.forEach(function(FE){return n(M,FE)}),Nt&&Ri(M,St),ot}function Zt(M,V,L,G){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case Q:t:{for(var ot=L.key;V!==null;){if(V.key===ot){if(ot=L.type,ot===nt){if(V.tag===7){a(M,V.sibling),G=c(V,L.props.children),G.return=M,M=G;break t}}else if(V.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&as(ot)===V.type){a(M,V.sibling),G=c(V,L.props),ll(G,L),G.return=M,M=G;break t}a(M,V);break}else n(M,V);V=V.sibling}L.type===nt?(G=Wa(L.props.children,M.mode,G,L.key),G.return=M,M=G):(G=zu(L.type,L.key,L.props,null,M.mode,G),ll(G,L),G.return=M,M=G)}return g(M);case $:t:{for(ot=L.key;V!==null;){if(V.key===ot)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(M,V.sibling),G=c(V,L.children||[]),G.return=M,M=G;break t}else{a(M,V);break}else n(M,V);V=V.sibling}G=qc(L,M.mode,G),G.return=M,M=G}return g(M);case S:return L=as(L),Zt(M,V,L,G)}if(Ce(L))return rt(M,V,L,G);if(x(L)){if(ot=x(L),typeof ot!="function")throw Error(s(150));return L=ot.call(L),ft(M,V,L,G)}if(typeof L.then=="function")return Zt(M,V,Hu(L),G);if(L.$$typeof===ut)return Zt(M,V,Bu(M,L),G);ku(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(M,V.sibling),G=c(V,L),G.return=M,M=G):(a(M,V),G=jc(L,M.mode,G),G.return=M,M=G),g(M)):a(M,V)}return function(M,V,L,G){try{rl=0;var ot=Zt(M,V,L,G);return Fs=null,ot}catch(lt){if(lt===Qs||lt===qu)throw lt;var Lt=cn(29,lt,null,M.mode);return Lt.lanes=G,Lt.return=M,Lt}finally{}}}var rs=Tm(!0),Am=Tm(!1),aa=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ra(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=xu(t),sm(t,null,a),n}return Mu(t,l,n,a),xu(t)}function ul(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zr(t,a)}}function th(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var eh=!1;function ol(){if(eh){var t=Gs;if(t!==null)throw t}}function cl(t,n,a,l){eh=!1;var c=t.updateQueue;aa=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,B=C.next;C.next=null,g===null?h=B:g.next=B,g=C;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=B:E.next=B,H.lastBaseUpdate=C))}if(h!==null){var F=c.baseState;g=0,H=B=C=null,E=h;do{var j=E.lane&-536870913,P=j!==E.lane;if(P?(Ct&j)===j:(l&j)===j){j!==0&&j===ks&&(eh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,ft=E;j=n;var Zt=a;switch(ft.tag){case 1:if(rt=ft.payload,typeof rt=="function"){F=rt.call(Zt,F,j);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ft.payload,j=typeof rt=="function"?rt.call(Zt,F,j):rt,j==null)break t;F=b({},F,j);break t;case 2:aa=!0}}j=E.callback,j!==null&&(t.flags|=64,P&&(t.flags|=8192),P=c.callbacks,P===null?c.callbacks=[j]:P.push(j))}else P={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(B=H=P,C=F):H=H.next=P,g|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;P=E,E=P.next,P.next=null,c.lastBaseUpdate=P,c.shared.pending=null}}while(!0);H===null&&(C=F),c.baseState=C,c.firstBaseUpdate=B,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),ha|=g,t.lanes=g,t.memoizedState=F}}function Sm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function bm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sm(a[t],n)}var Ys=N(null),Gu=N(0);function Rm(t,n){t=Ui,et(Gu,t),et(Ys,n),Ui=t|n.baseLanes}function nh(){et(Gu,Ui),et(Ys,Ys.current)}function ih(){Ui=Gu.current,Y(Ys),Y(Gu)}var hn=N(null),Cn=null;function la(t){var n=t.alternate;et(he,he.current&1),et(hn,t),Cn===null&&(n===null||Ys.current!==null||n.memoizedState!==null)&&(Cn=t)}function ah(t){et(he,he.current),et(hn,t),Cn===null&&(Cn=t)}function Cm(t){t.tag===22?(et(he,he.current),et(hn,t),Cn===null&&(Cn=t)):ua()}function ua(){et(he,he.current),et(hn,hn.current)}function fn(t){Y(hn),Cn===t&&(Cn=null),Y(he)}var he=N(0);function Qu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||hf(a)||ff(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Di=0,Tt=null,Xt=null,Ee=null,Fu=!1,Xs=!1,ls=!1,Yu=0,hl=0,Ks=null,U0=0;function le(){throw Error(s(321))}function sh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!on(t[a],n[a]))return!1;return!0}function rh(t,n,a,l,c,h){return Di=h,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=t===null||t.memoizedState===null?og:Th,ls=!1,h=a(l,c),ls=!1,Xs&&(h=Dm(n,a,l,c)),wm(t),h}function wm(t){k.H=ml;var n=Xt!==null&&Xt.next!==null;if(Di=0,Ee=Xt=Tt=null,Fu=!1,hl=0,Ks=null,n)throw Error(s(300));t===null||Te||(t=t.dependencies,t!==null&&Lu(t)&&(Te=!0))}function Dm(t,n,a,l){Tt=t;var c=0;do{if(Xs&&(Ks=null),hl=0,Xs=!1,25<=c)throw Error(s(301));if(c+=1,Ee=Xt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=cg,h=n(a,l)}while(Xs);return h}function L0(){var t=k.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(Tt.flags|=1024),n}function lh(){var t=Yu!==0;return Yu=0,t}function uh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function oh(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}Di=0,Ee=Xt=Tt=null,Xs=!1,hl=Yu=0,Ks=null}function Je(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function fe(){if(Xt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=Ee===null?Tt.memoizedState:Ee.next;if(n!==null)Ee=n,Xt=t;else{if(t===null)throw Tt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?Tt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,Ks===null&&(Ks=[]),t=_m(Ks,t,n),n=Tt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?og:Th),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ut)return je(t)}throw Error(s(438,String(t)))}function ch(t){var n=null,a=Tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Tt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Xu(),Tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Vi(t,n){return typeof n=="function"?n(t):n}function Zu(t){var n=fe();return hh(n,Xt,t)}function hh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,C=null,B=n,H=!1;do{var F=B.lane&-536870913;if(F!==B.lane?(Ct&F)===F:(Di&F)===F){var j=B.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),F===ks&&(H=!0);else if((Di&j)===j){B=B.next,j===ks&&(H=!0);continue}else F={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=F,g=h):C=C.next=F,Tt.lanes|=j,ha|=j;F=B.action,ls&&a(h,F),h=B.hasEagerState?B.eagerState:a(h,F)}else j={lane:F,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},C===null?(E=C=j,g=h):C=C.next=j,Tt.lanes|=F,ha|=F;B=B.next}while(B!==null&&B!==n);if(C===null?g=h:C.next=E,!on(h,t.memoizedState)&&(Te=!0,H&&(a=Gs,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=C,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fh(t){var n=fe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);on(h,n.memoizedState)||(Te=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Vm(t,n,a){var l=Tt,c=fe(),h=Nt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!on((Xt||c).memoizedState,a);if(g&&(c.memoizedState=a,Te=!0),c=c.queue,gh(Om.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Zs(9,{destroy:void 0},Nm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));h||(Di&127)!==0||Im(l,n,a)}return a}function Im(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Tt.updateQueue,n===null?(n=Xu(),Tt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Nm(t,n,a,l){n.value=a,n.getSnapshot=l,Mm(n)&&xm(t)}function Om(t,n,a){return a(function(){Mm(n)&&xm(t)})}function Mm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!on(t,a)}catch{return!0}}function xm(t){var n=$a(t,2);n!==null&&sn(n,t,2)}function dh(t){var n=Je();if(typeof t=="function"){var a=t;if(t=a(),ls){pn(!0);try{a()}finally{pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},n}function zm(t,n,a,l){return t.baseState=a,hh(t,Xt,typeof l=="function"?l:Vi)}function B0(t,n,a,l,c){if(Wu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};k.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Um(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Um(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=k.T,g={};k.T=g;try{var E=a(c,l),C=k.S;C!==null&&C(g,E),Lm(t,n,E)}catch(B){mh(t,n,B)}finally{h!==null&&g.types!==null&&(h.types=g.types),k.T=h}}else try{h=a(c,l),Lm(t,n,h)}catch(B){mh(t,n,B)}}function Lm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Bm(t,n,l)},function(l){return mh(t,n,l)}):Bm(t,n,a)}function Bm(t,n,a){n.status="fulfilled",n.value=a,jm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Um(t,a)))}function mh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,jm(n),n=n.next;while(n!==l)}t.action=null}function jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function qm(t,n){return n}function Pm(t,n){if(Nt){var a=Jt.formState;if(a!==null){t:{var l=Tt;if(Nt){if(Wt){e:{for(var c=Wt,h=Rn;c.nodeType!==8;){if(!h){c=null;break e}if(c=wn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Wt=wn(c.nextSibling),l=c.data==="F!";break t}}na(l)}l=!1}l&&(n=a[0])}}return a=Je(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qm,lastRenderedState:n},a.queue=l,a=rg.bind(null,Tt,l),l.dispatch=a,l=dh(!1),h=Eh.bind(null,Tt,!1,l.queue),l=Je(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=B0.bind(null,Tt,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Hm(t){var n=fe();return km(n,Xt,t)}function km(t,n,a){if(n=hh(t,n,qm)[0],t=Zu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(g){throw g===Qs?qu:g}else l=n;n=fe();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(Tt.flags|=2048,Zs(9,{destroy:void 0},j0.bind(null,c,a),null)),[l,h,t]}function j0(t,n){t.action=n}function Gm(t){var n=fe(),a=Xt;if(a!==null)return km(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Zs(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Xu(),Tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Qm(){return fe().memoizedState}function Ju(t,n,a,l){var c=Je();Tt.flags|=t,c.memoizedState=Zs(1|n,{destroy:void 0},a,l===void 0?null:l)}function $u(t,n,a,l){var c=fe();l=l===void 0?null:l;var h=c.memoizedState.inst;Xt!==null&&l!==null&&sh(l,Xt.memoizedState.deps)?c.memoizedState=Zs(n,h,a,l):(Tt.flags|=t,c.memoizedState=Zs(1|n,h,a,l))}function Fm(t,n){Ju(8390656,8,t,n)}function gh(t,n){$u(2048,8,t,n)}function q0(t){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Xu(),Tt.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ym(t){var n=fe().memoizedState;return q0({ref:n,nextImpl:t}),function(){if((qt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function Xm(t,n){return $u(4,2,t,n)}function Km(t,n){return $u(4,4,t,n)}function Zm(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Jm(t,n,a){a=a!=null?a.concat([t]):null,$u(4,4,Zm.bind(null,n,t),a)}function ph(){}function $m(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&sh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Wm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&sh(n,l[1]))return l[0];if(l=t(),ls){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,n],l}function yh(t,n,a){return a===void 0||(Di&1073741824)!==0&&(Ct&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=tp(),Tt.lanes|=t,ha|=t,a)}function tg(t,n,a,l){return on(a,n)?a:Ys.current!==null?(t=yh(t,a,l),on(t,n)||(Te=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(Ct&261930)===0?(Te=!0,t.memoizedState=a):(t=tp(),Tt.lanes|=t,ha|=t,n)}function eg(t,n,a,l,c){var h=tt.p;tt.p=h!==0&&8>h?h:8;var g=k.T,E={};k.T=E,Eh(t,!1,n,a);try{var C=c(),B=k.S;if(B!==null&&B(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=z0(C,l);dl(t,n,H,gn(t))}else dl(t,n,l,gn(t))}catch(F){dl(t,n,{then:function(){},status:"rejected",reason:F},gn())}finally{tt.p=h,g!==null&&E.types!==null&&(g.types=E.types),k.T=g}}function P0(){}function _h(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=ng(t).queue;eg(t,c,n,ht,a===null?P0:function(){return ig(t),a(l)})}function ng(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ht},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ig(t){var n=ng(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},gn())}function vh(){return je(Il)}function ag(){return fe().memoizedState}function sg(){return fe().memoizedState}function H0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();t=sa(a);var l=ra(n,t,a);l!==null&&(sn(l,n,a),ul(l,n,a)),n={cache:Xc()},t.payload=n;return}n=n.return}}function k0(t,n,a){var l=gn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?lg(n,a):(a=Lc(t,n,a,l),a!==null&&(sn(a,t,l),ug(a,n,l)))}function rg(t,n,a){var l=gn();dl(t,n,a,l)}function dl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))lg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,on(E,g))return Mu(t,n,c,0),Jt===null&&Ou(),!1}catch{}finally{}if(a=Lc(t,n,c,l),a!==null)return sn(a,t,l),ug(a,n,l),!0}return!1}function Eh(t,n,a,l){if(l={lane:2,revertLane:$h(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(n)throw Error(s(479))}else n=Lc(t,a,l,2),n!==null&&sn(n,t,2)}function Wu(t){var n=t.alternate;return t===Tt||n!==null&&n===Tt}function lg(t,n){Xs=Fu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ug(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,zr(t,a)}}var ml={readContext:je,use:Ku,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};ml.useEffectEvent=le;var og={readContext:je,use:Ku,useCallback:function(t,n){return Je().memoizedState=[t,n===void 0?null:n],t},useContext:je,useEffect:Fm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Ju(4194308,4,Zm.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Ju(4194308,4,t,n)},useInsertionEffect:function(t,n){Ju(4,2,t,n)},useMemo:function(t,n){var a=Je();n=n===void 0?null:n;var l=t();if(ls){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Je();if(a!==void 0){var c=a(n);if(ls){pn(!0);try{a(n)}finally{pn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=k0.bind(null,Tt,t),[l.memoizedState,t]},useRef:function(t){var n=Je();return t={current:t},n.memoizedState=t},useState:function(t){t=dh(t);var n=t.queue,a=rg.bind(null,Tt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:ph,useDeferredValue:function(t,n){var a=Je();return yh(a,t,n)},useTransition:function(){var t=dh(!1);return t=eg.bind(null,Tt,t.queue,!0,!1),Je().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Tt,c=Je();if(Nt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ct&127)!==0||Im(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,Fm(Om.bind(null,l,h,t),[t]),l.flags|=2048,Zs(9,{destroy:void 0},Nm.bind(null,l,h,a,n),null),a},useId:function(){var t=Je(),n=Jt.identifierPrefix;if(Nt){var a=hi,l=ci;a=(l&~(1<<32-oe(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Yu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=U0++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vh,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=Je();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Eh.bind(null,Tt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ch,useCacheRefresh:function(){return Je().memoizedState=H0.bind(null,Tt)},useEffectEvent:function(t){var n=Je(),a={impl:t};return n.memoizedState=a,function(){if((qt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Th={readContext:je,use:Ku,useCallback:$m,useContext:je,useEffect:gh,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:Zu,useRef:Qm,useState:function(){return Zu(Vi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=fe();return tg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=Zu(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:vh,useFormState:Hm,useActionState:Hm,useOptimistic:function(t,n){var a=fe();return zm(a,Xt,t,n)},useMemoCache:ch,useCacheRefresh:sg};Th.useEffectEvent=Ym;var cg={readContext:je,use:Ku,useCallback:$m,useContext:je,useEffect:gh,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Km,useMemo:Wm,useReducer:fh,useRef:Qm,useState:function(){return fh(Vi)},useDebugValue:ph,useDeferredValue:function(t,n){var a=fe();return Xt===null?yh(a,t,n):tg(a,Xt.memoizedState,t,n)},useTransition:function(){var t=fh(Vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:Vm,useId:ag,useHostTransitionStatus:vh,useFormState:Gm,useActionState:Gm,useOptimistic:function(t,n){var a=fe();return Xt!==null?zm(a,Xt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ch,useCacheRefresh:sg};cg.useEffectEvent=Ym;function Ah(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=gn(),c=sa(l);c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(sn(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=gn(),c=sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ra(t,c,l),n!==null&&(sn(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=gn(),l=sa(a);l.tag=2,n!=null&&(l.callback=n),n=ra(t,l,a),n!==null&&(sn(n,t,a),ul(n,t,a))}};function hg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!tl(a,l)||!tl(c,h):!0}function fg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Sh.enqueueReplaceState(n,n.state,null)}function us(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=b({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function dg(t){Nu(t)}function mg(t){console.error(t)}function gg(t){Nu(t)}function to(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function bh(t,n,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){to(t,n)},a}function yg(t){return t=sa(t),t.tag=3,t}function _g(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){pg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){pg(n,a,l),typeof c!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function G0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Hs(n,a,c,!0),a=hn.current,a!==null){switch(a.tag){case 31:case 13:return Cn===null?fo():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Pu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Pu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Kh(t,l,c)),!1}throw Error(s(435,a.tag))}return Kh(t,l,c),fo(),!1}if(Nt)return n=hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==kc&&(t=Error(s(422),{cause:l}),il(An(t,a)))):(l!==kc&&(n=Error(s(423),{cause:l}),il(An(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,a),c=bh(t.stateNode,l,c),th(t,c),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:l});if(h=An(h,a),Al===null?Al=[h]:Al.push(h),ue!==4&&(ue=2),n===null)return!0;l=An(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=bh(a.stateNode,l,t),th(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fa===null||!fa.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=yg(c),_g(c,t,a,l),th(a,c),!1}a=a.return}while(a!==null);return!1}var Rh=Error(s(461)),Te=!1;function qe(t,n,a,l){n.child=t===null?Am(n,null,a,l):rs(n,t.child,a,l)}function vg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return ns(n),l=rh(t,n,a,g,h,c),E=lh(),t!==null&&!Te?(uh(t,n,c),Ii(t,n,c)):(Nt&&E&&Pc(n),n.flags|=1,qe(t,n,l,c),n.child)}function Eg(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Bc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Tg(t,n,h,l,c)):(t=zu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Mh(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(g,l)&&t.ref===n.ref)return Ii(t,n,c)}return n.flags|=1,t=bi(h,l),t.ref=n.ref,t.return=n,n.child=t}function Tg(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(tl(h,l)&&t.ref===n.ref)if(Te=!1,n.pendingProps=l=h,Mh(t,c))(t.flags&131072)!==0&&(Te=!0);else return n.lanes=t.lanes,Ii(t,n,c)}return Ch(t,n,a,l,c)}function Ag(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Sg(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,h!==null?h.cachePool:null),h!==null?Rm(n,h):nh(),Cm(n);else return l=n.lanes=536870912,Sg(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(ju(n,h.cachePool),Rm(n,h),ua(),n.memoizedState=null):(t!==null&&ju(n,null),nh(),ua());return qe(t,n,c,a),n.child}function gl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Sg(t,n,a,l,c){var h=Zc();return h=h===null?null:{parent:ve._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&ju(n,null),nh(),Cm(n),t!==null&&Hs(t,n,l,!0),n.childLanes=c,null}function eo(t,n){return n=io({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function bg(t,n,a){return rs(n,t.child,null,a),t=eo(n,n.pendingProps),t.flags|=2,fn(n),n.memoizedState=null,t}function Q0(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Nt){if(l.mode==="hidden")return t=eo(n,l),n.lanes=536870912,gl(null,t);if(ah(n),(t=Wt)?(t=Up(t,Rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=lm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw na(n);return n.lanes=536870912,null}return eo(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(ah(n),c)if(n.flags&256)n.flags&=-257,n=bg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Te||Hs(t,n,a,!1),c=(a&t.childLanes)!==0,Te||c){if(l=Jt,l!==null&&(g=Ur(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,$a(t,g),sn(l,t,g),Rh;fo(),n=bg(t,n,a)}else t=h.treeContext,Wt=wn(g.nextSibling),Be=n,Nt=!0,ea=null,Rn=!1,t!==null&&cm(n,t),n=eo(n,l),n.flags|=4096;return n}return t=bi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function no(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ch(t,n,a,l,c){return ns(n),a=rh(t,n,a,l,void 0,c),l=lh(),t!==null&&!Te?(uh(t,n,c),Ii(t,n,c)):(Nt&&l&&Pc(n),n.flags|=1,qe(t,n,a,c),n.child)}function Rg(t,n,a,l,c,h){return ns(n),n.updateQueue=null,a=Dm(n,l,a,c),wm(t),l=lh(),t!==null&&!Te?(uh(t,n,h),Ii(t,n,h)):(Nt&&l&&Pc(n),n.flags|=1,qe(t,n,a,h),n.child)}function Cg(t,n,a,l,c){if(ns(n),n.stateNode===null){var h=Bs,g=a.contextType;typeof g=="object"&&g!==null&&(h=je(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},$c(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?je(g):Bs,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Ah(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Sh.enqueueReplaceState(h,h.state,null),cl(n,l,h,c),ol(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,C=us(a,E);h.props=C;var B=h.context,H=a.contextType;g=Bs,typeof H=="object"&&H!==null&&(g=je(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||B!==g)&&fg(n,h,l,g),aa=!1;var j=n.memoizedState;h.state=j,cl(n,l,h,c),ol(),B=n.memoizedState,E||j!==B||aa?(typeof F=="function"&&(Ah(n,a,F,l),B=n.memoizedState),(C=aa||hg(n,a,C,l,j,B,g))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=g,l=C):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Wc(t,n),g=n.memoizedProps,H=us(a,g),h.props=H,F=n.pendingProps,j=h.context,B=a.contextType,C=Bs,typeof B=="object"&&B!==null&&(C=je(B)),E=a.getDerivedStateFromProps,(B=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==F||j!==C)&&fg(n,h,l,C),aa=!1,j=n.memoizedState,h.state=j,cl(n,l,h,c),ol();var P=n.memoizedState;g!==F||j!==P||aa||t!==null&&t.dependencies!==null&&Lu(t.dependencies)?(typeof E=="function"&&(Ah(n,a,E,l),P=n.memoizedState),(H=aa||hg(n,a,H,l,j,P,C)||t!==null&&t.dependencies!==null&&Lu(t.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,P,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,P,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=C,l=H):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,no(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=rs(n,t.child,null,c),n.child=rs(n,null,a,c)):qe(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ii(t,n,c),t}function wg(t,n,a,l){return ts(),n.flags|=256,qe(t,n,a,l),n.child}var wh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:pm()}}function Vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=mn),t}function Dg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Nt){if(c?la(n):ua(),(t=Wt)?(t=Up(t,Rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ta!==null?{id:ci,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},a=lm(t),a.return=n,n.child=a,Be=n,Wt=null)):t=null,t===null)throw na(n);return ff(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(ua(),c=n.mode,E=io({mode:"hidden",children:E},c),l=Wa(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Dh(a),l.childLanes=Vh(t,g,a),n.memoizedState=wh,gl(null,l)):(la(n),Ih(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(h)n.flags&256?(la(n),n.flags&=-257,n=Nh(t,n,a)):n.memoizedState!==null?(ua(),n.child=t.child,n.flags|=128,n=null):(ua(),E=l.fallback,c=n.mode,l=io({mode:"visible",children:l.children},c),E=Wa(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,rs(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Vh(t,g,a),n.memoizedState=wh,n=gl(null,l));else if(la(n),ff(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var B=g.dgst;g=B,l=Error(s(419)),l.stack="",l.digest=g,il({value:l,source:null,stack:null}),n=Nh(t,n,a)}else if(Te||Hs(t,n,a,!1),g=(a&t.childLanes)!==0,Te||g){if(g=Jt,g!==null&&(l=Ur(g,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,$a(t,l),sn(g,t,l),Rh;hf(E)||fo(),n=Nh(t,n,a)}else hf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,Wt=wn(E.nextSibling),Be=n,Nt=!0,ea=null,Rn=!1,t!==null&&cm(n,t),n=Ih(n,l.children),n.flags|=4096);return n}return c?(ua(),E=l.fallback,c=n.mode,C=t.child,B=C.sibling,l=bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,B!==null?E=bi(B,E):(E=Wa(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,gl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(c=E.cachePool,c!==null?(C=ve._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=pm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Vh(t,g,a),n.memoizedState=wh,gl(t.child,l)):(la(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Ih(t,n){return n=io({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function io(t,n){return t=cn(22,t,null,n),t.lanes=0,t}function Nh(t,n,a){return rs(n,t.child,null,a),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Vg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Fc(t.return,n,a)}function Oh(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function Ig(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=he.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,et(he,g),qe(t,n,l,a),l=Nt?nl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vg(t,a,n);else if(t.tag===19)Vg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Oh(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Qu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Oh(n,!0,a,null,h,l);break;case"together":Oh(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ha|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Hs(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Lu(t)))}function F0(t,n,a){switch(n.tag){case 3:we(n,n.stateNode.containerInfo),ia(n,ve,t.memoizedState.cache),ts();break;case 27:case 5:xa(n);break;case 4:we(n,n.stateNode.containerInfo);break;case 10:ia(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ah(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Dg(t,n,a):(la(n),t=Ii(t,n,a),t!==null?t.sibling:null);la(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Hs(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Ig(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(he,he.current),l)break;return null;case 22:return n.lanes=0,Ag(t,n,a,n.pendingProps);case 24:ia(n,ve,t.memoizedState.cache)}return Ii(t,n,a)}function Ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Te=!0;else{if(!Mh(t,a)&&(n.flags&128)===0)return Te=!1,F0(t,n,a);Te=(t.flags&131072)!==0}else Te=!1,Nt&&(n.flags&1048576)!==0&&om(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=as(n.elementType),n.type=t,typeof t=="function")Bc(t)?(l=us(t,l),n.tag=1,n=Cg(null,n,t,l,a)):(n.tag=0,n=Ch(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===Ot){n.tag=11,n=vg(null,n,t,l,a);break t}else if(c===D){n.tag=14,n=Eg(null,n,t,l,a);break t}}throw n=ne(t)||t,Error(s(306,n,""))}}return n;case 0:return Ch(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=us(l,n.pendingProps),Cg(t,n,l,c,a);case 3:t:{if(we(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,Wc(t,n),cl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,ia(n,ve,l),l!==h.cache&&Yc(n,[ve],a,!0),ol(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=wg(t,n,l,a);break t}else if(l!==c){c=An(Error(s(424)),n),il(c),n=wg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Wt=wn(t.firstChild),Be=n,Nt=!0,ea=null,Rn=!0,a=Am(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ts(),l===c){n=Ii(t,n,a);break t}qe(t,n,l,a)}n=n.child}return n;case 26:return no(t,n),t===null?(a=Hp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Nt||(a=n.type,t=n.pendingProps,l=Eo(At.current).createElement(a),l[pe]=n,l[Ne]=t,Pe(l,a,t),ye(l),n.stateNode=l):n.memoizedState=Hp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return xa(n),t===null&&Nt&&(l=n.stateNode=jp(n.type,n.pendingProps,At.current),Be=n,Rn=!0,c=Wt,pa(n.type)?(df=c,Wt=wn(l.firstChild)):Wt=c),qe(t,n,n.pendingProps.children,a),no(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Nt&&((c=l=Wt)&&(l=AE(l,n.type,n.pendingProps,Rn),l!==null?(n.stateNode=l,Be=n,Wt=wn(l.firstChild),Rn=!1,c=!0):c=!1),c||na(n)),xa(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,uf(c,h)?l=null:g!==null&&uf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=rh(t,n,L0,null,null,a),Il._currentValue=c),no(t,n),qe(t,n,l,a),n.child;case 6:return t===null&&Nt&&((t=a=Wt)&&(a=SE(a,n.pendingProps,Rn),a!==null?(n.stateNode=a,Be=n,Wt=null,t=!0):t=!1),t||na(n)),null;case 13:return Dg(t,n,a);case 4:return we(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rs(n,null,l,a):qe(t,n,l,a),n.child;case 11:return vg(t,n,n.type,n.pendingProps,a);case 7:return qe(t,n,n.pendingProps,a),n.child;case 8:return qe(t,n,n.pendingProps.children,a),n.child;case 12:return qe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ia(n,n.type,l.value),qe(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ns(n),c=je(c),l=l(c),n.flags|=1,qe(t,n,l,a),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,a);case 15:return Tg(t,n,n.type,n.pendingProps,a);case 19:return Ig(t,n,a);case 31:return Q0(t,n,a);case 22:return Ag(t,n,a,n.pendingProps);case 24:return ns(n),l=je(ve),t===null?(c=Zc(),c===null&&(c=Jt,h=Xc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},$c(n),ia(n,ve,c)):((t.lanes&a)!==0&&(Wc(t,n),cl(n,null,null,a),ol()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ia(n,ve,l)):(l=h.cache,ia(n,ve,l),l!==c.cache&&Yc(n,[ve],a,!0))),qe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ni(t){t.flags|=4}function xh(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(ap())t.flags|=8192;else throw ss=Pu,Jc}else t.flags&=-16777217}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Yp(n))if(ap())t.flags|=8192;else throw ss=Pu,Jc}function ao(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?cu():536870912,t.lanes|=n,tr|=n)}function pl(t,n){if(!Nt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function Y0(t,n,a){var l=n.pendingProps;switch(Hc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(ve),ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ps(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gc())),te(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Ni(n),h!==null?(te(n),Og(n,h)):(te(n),xh(n,c,null,l,a))):h?h!==t.memoizedState?(Ni(n),te(n),Og(n,h)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ni(n),te(n),xh(n,c,t,l,a)),null;case 27:if(vs(n),a=At.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=st.current,Ps(n)?hm(n):(t=jp(c,l,a),n.stateNode=t,Ni(n))}return te(n),null;case 5:if(vs(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(h=st.current,Ps(n))hm(n);else{var g=Eo(At.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[pe]=n,h[Ne]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(Pe(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ni(n)}}return te(n),xh(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,Ps(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Be,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dp(t.nodeValue,a)),t||na(n,!0)}else t=Eo(t).createTextNode(l),t[pe]=n,n.stateNode=t}return te(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=Ps(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[pe]=n}else ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else a=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(fn(n),n):(fn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ps(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[pe]=n}else ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Gc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(fn(n),n):(fn(n),null)}return fn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),ao(n,n.updateQueue),te(n),null);case 4:return ie(),t===null&&nf(n.stateNode.containerInfo),te(n),null;case 10:return wi(n.type),te(n),null;case 19:if(Y(he),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)pl(l,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=Qu(t),h!==null){for(n.flags|=128,pl(l,!1),t=h.updateQueue,n.updateQueue=t,ao(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)rm(a,t),a=a.sibling;return et(he,he.current&1|2),Nt&&Ri(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ke()>oo&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Qu(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,ao(n,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Nt)return te(n),null}else 2*Ke()-l.renderingStartTime>oo&&a!==536870912&&(n.flags|=128,c=!0,pl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ke(),t.sibling=null,a=he.current,et(he,c?a&1|2:a&1),Nt&&Ri(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return fn(n),ih(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&ao(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&Y(is),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wi(ve),te(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function X0(t,n){switch(Hc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(ve),ie(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vs(n),null;case 31:if(n.memoizedState!==null){if(fn(n),n.alternate===null)throw Error(s(340));ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(fn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ts()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(he),null;case 4:return ie(),null;case 10:return wi(n.type),null;case 22:case 23:return fn(n),ih(),t!==null&&Y(is),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(ve),null;case 25:return null;default:return null}}function Mg(t,n){switch(Hc(n),n.tag){case 3:wi(ve),ie();break;case 26:case 27:case 5:vs(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&fn(n);break;case 13:fn(n);break;case 19:Y(he);break;case 10:wi(n.type);break;case 22:case 23:fn(n),ih(),t!==null&&Y(is);break;case 24:wi(ve)}}function yl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){Qt(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=a,B=E;try{B()}catch(H){Qt(c,C,H)}}}l=l.next}while(l!==h)}}catch(H){Qt(n,n.return,H)}}function xg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{bm(n,a)}catch(l){Qt(t,t.return,l)}}}function zg(t,n,a){a.props=us(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Qt(t,n,l)}}function _l(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Qt(t,n,c)}}function fi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Qt(t,n,c)}else a.current=null}function Ug(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Qt(t,t.return,c)}}function zh(t,n,a){try{var l=t.stateNode;pE(l,t.type,a,n),l[Ne]=n}catch(c){Qt(t,t.return,c)}}function Lg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pa(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Lg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Un));else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function so(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&pa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(so(t,n,a),t=t.sibling;t!==null;)so(t,n,a),t=t.sibling}function Bg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[pe]=t,n[Ne]=a}catch(h){Qt(t,t.return,h)}}var Oi=!1,Ae=!1,Bh=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Me=null;function K0(t,n){if(t=t.containerInfo,rf=wo,t=Jd(t),Nc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,C=-1,B=0,H=0,F=t,j=null;e:for(;;){for(var P;F!==a||c!==0&&F.nodeType!==3||(E=g+c),F!==h||l!==0&&F.nodeType!==3||(C=g+l),F.nodeType===3&&(g+=F.nodeValue.length),(P=F.firstChild)!==null;)j=F,F=P;for(;;){if(F===t)break e;if(j===a&&++B===c&&(E=g),j===h&&++H===l&&(C=g),(P=F.nextSibling)!==null)break;F=j,j=F.parentNode}F=P}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(lf={focusedElem:t,selectionRange:a},wo=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var rt=us(a.type,c);t=l.getSnapshotBeforeUpdate(rt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Qt(a,a.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)cf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function qg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&yl(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Qt(a,a.return,g)}else{var c=us(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(a,a.return,g)}}l&64&&xg(a),l&512&&_l(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{bm(t,n)}catch(g){Qt(a,a.return,g)}}break;case 27:n===null&&l&4&&Bg(a);case 26:case 5:xi(t,a),n===null&&l&4&&Ug(a),l&512&&_l(a,a.return);break;case 12:xi(t,a);break;case 31:xi(t,a),l&4&&kg(t,a);break;case 13:xi(t,a),l&4&&Gg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=aE.bind(null,a),bE(t,a))));break;case 22:if(l=a.memoizedState!==null||Oi,!l){n=n!==null&&n.memoizedState!==null||Ae,c=Oi;var h=Ae;Oi=l,(Ae=n)&&!h?zi(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Oi=c,Ae=h}break;case 30:break;default:xi(t,a)}}function Pg(t){var n=t.alternate;n!==null&&(t.alternate=null,Pg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&bs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,tn=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Hg(t,n,a),a=a.sibling}function Hg(t,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ae||fi(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ae||fi(a,n);var l=se,c=tn;pa(a.type)&&(se=a.stateNode,tn=!1),Mi(t,n,a),wl(a.stateNode),se=l,tn=c;break;case 5:Ae||fi(a,n);case 6:if(l=se,c=tn,se=null,Mi(t,n,a),se=l,tn=c,se!==null)if(tn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(h){Qt(a,n,h)}else try{se.removeChild(a.stateNode)}catch(h){Qt(a,n,h)}break;case 18:se!==null&&(tn?(t=se,xp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ur(t)):xp(se,a.stateNode));break;case 4:l=se,c=tn,se=a.stateNode.containerInfo,tn=!0,Mi(t,n,a),se=l,tn=c;break;case 0:case 11:case 14:case 15:oa(2,a,n),Ae||oa(4,a,n),Mi(t,n,a);break;case 1:Ae||(fi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zg(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:Ae=(l=Ae)||a.memoizedState!==null,Mi(t,n,a),Ae=l;break;default:Mi(t,n,a)}}function kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ur(t)}catch(a){Qt(n,n.return,a)}}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ur(t)}catch(a){Qt(n,n.return,a)}}function Z0(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(s(435,t.tag))}}function ro(t,n){var a=Z0(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=sE.bind(null,t,l);l.then(c,c)}})}function en(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(pa(E.type)){se=E.stateNode,tn=!1;break t}break;case 5:se=E.stateNode,tn=!1;break t;case 3:case 4:se=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(se===null)throw Error(s(160));Hg(h,g,c),se=null,tn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var Hn=null;function Qg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(n,t),nn(t),l&4&&(oa(3,t,t.return),yl(3,t),oa(5,t,t.return));break;case 1:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&64&&Oi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Hn;if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[$n]||h[pe]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Pe(h,l,a),h[pe]=t,ye(h),l=h;break t;case"link":var g=Qp("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;case"meta":if(g=Qp("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),Pe(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[pe]=t,ye(h),l=h}t.stateNode=l}else Fp(c,t.type,t.stateNode);else t.stateNode=Gp(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Fp(c,t.type,t.stateNode):Gp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zh(t,t.memoizedProps,a.memoizedProps)}break;case 27:en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),a!==null&&l&4&&zh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(en(n,t),nn(t),l&512&&(Ae||a===null||fi(a,a.return)),t.flags&32){c=t.stateNode;try{We(c,"")}catch(rt){Qt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,zh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(en(n,t),nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Qt(t,t.return,rt)}}break;case 3:if(So=null,c=Hn,Hn=To(n.containerInfo),en(n,t),Hn=c,nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ur(n.containerInfo)}catch(rt){Qt(t,t.return,rt)}Bh&&(Bh=!1,Fg(t));break;case 4:l=Hn,Hn=To(t.stateNode.containerInfo),en(n,t),nn(t),Hn=l;break;case 12:en(n,t),nn(t);break;case 31:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 13:en(n,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uo=Ke()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 22:c=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,B=Oi,H=Ae;if(Oi=B||c,Ae=H||C,en(n,t),Ae=H,Oi=B,nn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||Oi||Ae||os(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(h=C.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var F=C.memoizedProps.style,j=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(rt){Qt(C,C.return,rt)}}}else if(n.tag===18){if(a===null){C=n;try{var P=C.stateNode;c?zp(P,!0):zp(C.stateNode,!1)}catch(rt){Qt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ro(t,a))));break;case 19:en(n,t),nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ro(t,l)));break;case 30:break;case 21:break;default:en(n,t),nn(t)}}function nn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Lg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=Uh(t);so(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(We(g,""),a.flags&=-33);var E=Uh(t);so(t,E,g);break;case 3:case 4:var C=a.stateNode.containerInfo,B=Uh(t);Lh(t,B,C);break;default:throw Error(s(161))}}catch(H){Qt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function xi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qg(t,n.alternate,n),n=n.sibling}function os(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),os(n);break;case 1:fi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&zg(n,n.return,a),os(n);break;case 27:wl(n.stateNode);case 26:case 5:fi(n,n.return),os(n);break;case 22:n.memoizedState===null&&os(n);break;case 30:os(n);break;default:os(n)}t=t.sibling}}function zi(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:zi(c,h,a),yl(4,h);break;case 1:if(zi(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Qt(l,l.return,B)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Sm(C[c],E)}catch(B){Qt(l,l.return,B)}}a&&g&64&&xg(h),_l(h,h.return);break;case 27:Bg(h);case 26:case 5:zi(c,h,a),a&&l===null&&g&4&&Ug(h),_l(h,h.return);break;case 12:zi(c,h,a);break;case 31:zi(c,h,a),a&&g&4&&kg(c,h);break;case 13:zi(c,h,a),a&&g&4&&Gg(c,h);break;case 22:h.memoizedState===null&&zi(c,h,a),_l(h,h.return);break;case 30:break;default:zi(c,h,a)}n=n.sibling}}function jh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t))}function kn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,a,l),n=n.sibling}function Yg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n,a,l),c&2048&&yl(9,n);break;case 1:kn(t,n,a,l);break;case 3:kn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&al(t)));break;case 12:if(c&2048){kn(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else kn(t,n,a,l);break;case 31:kn(t,n,a,l);break;case 13:kn(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?kn(t,n,a,l):vl(t,n):h._visibility&2?kn(t,n,a,l):(h._visibility|=2,Js(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&jh(g,n);break;case 24:kn(t,n,a,l),c&2048&&qh(n.alternate,n);break;default:kn(t,n,a,l)}}function Js(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,C=l,B=g.flags;switch(g.tag){case 0:case 11:case 15:Js(h,g,E,C,c),yl(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Js(h,g,E,C,c):vl(h,g):(H._visibility|=2,Js(h,g,E,C,c)),c&&B&2048&&jh(g.alternate,g);break;case 24:Js(h,g,E,C,c),c&&B&2048&&qh(g.alternate,g);break;default:Js(h,g,E,C,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:vl(a,l),c&2048&&jh(l.alternate,l);break;case 24:vl(a,l),c&2048&&qh(l.alternate,l);break;default:vl(a,l)}n=n.sibling}}var El=8192;function $s(t,n,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)Xg(t,n,a),t=t.sibling}function Xg(t,n,a){switch(t.tag){case 26:$s(t,n,a),t.flags&El&&t.memoizedState!==null&&UE(a,Hn,t.memoizedState,t.memoizedProps);break;case 5:$s(t,n,a);break;case 3:case 4:var l=Hn;Hn=To(t.stateNode.containerInfo),$s(t,n,a),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,$s(t,n,a),El=l):$s(t,n,a));break;default:$s(t,n,a)}}function Kg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Tl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,Jg(l,t)}Kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,lo(t)):Tl(t);break;default:Tl(t)}}function lo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,Jg(l,t)}Kg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),lo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,lo(n));break;default:lo(n)}t=t.sibling}}function Jg(t,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=t;Me!==null;){l=Me;var c=l.sibling,h=l.return;if(Pg(l),l===a){Me=null;break t}if(c!==null){c.return=h,Me=c;break t}Me=h}}}var J0={getCacheForType:function(t){var n=je(ve),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return je(ve).controller.signal}},$0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,bt=null,Ct=0,Gt=0,dn=null,ca=!1,Ws=!1,Ph=!1,Ui=0,ue=0,ha=0,cs=0,Hh=0,mn=0,tr=0,Al=null,an=null,kh=!1,uo=0,$g=0,oo=1/0,co=null,fa=null,Ve=0,da=null,er=null,Li=0,Gh=0,Qh=null,Wg=null,Sl=0,Fh=null;function gn(){return(qt&2)!==0&&Ct!==0?Ct&-Ct:k.T!==null?$h():hu()}function tp(){if(mn===0)if((Ct&536870912)===0||Nt){var t=La;La<<=1,(La&3932160)===0&&(La=262144),mn=t}else mn=536870912;return t=hn.current,t!==null&&(t.flags|=32),mn}function sn(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(nr(t,0),ma(t,Ct,mn,!1)),Ba(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(cs|=a),ue===4&&ma(t,Ct,mn,!1)),di(t))}function ep(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Mn(t,n),c=l?eE(t,n):Xh(t,n,!0),h=l;do{if(c===0){Ws&&!l&&ma(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!W0(a)){c=Xh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=Al;var C=E.current.memoizedState.isDehydrated;if(C&&(nr(E,g).flags|=256),g=Xh(E,g,!1),g!==2){if(Ph&&!C){E.errorRecoveryDisabledLanes|=h,cs|=h,c=4;break t}h=an,an=c,h!==null&&(an===null?an=h:an.push.apply(an,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){nr(t,0),ma(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ma(l,n,mn,!ca);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=uo+300-Ke(),10<c)){if(ma(l,n,mn,!ca),Kn(l,0,!0)!==0)break t;Li=n,l.timeoutHandle=Op(np.bind(null,l,a,an,co,kh,n,mn,cs,tr,ca,h,"Throttled",-0,0),c);break t}np(l,a,an,co,kh,n,mn,cs,tr,ca,h,null,-0,0)}}break}while(!0);di(t)}function np(t,n,a,l,c,h,g,E,C,B,H,F,j,P){if(t.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},Xg(n,h,F);var rt=(h&62914560)===h?uo-Ke():(h&4194048)===h?$g-Ke():0;if(rt=LE(F,rt),rt!==null){Li=h,t.cancelPendingCommit=rt(cp.bind(null,t,n,h,a,l,c,g,E,C,H,F,null,j,P)),ma(t,h,g,!B);return}}cp(t,n,h,a,l,c,g,E,C)}function W0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!on(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ma(t,n,a,l){n&=~Hh,n&=~cs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-oe(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&ja(t,a,n)}function ho(){return(qt&6)===0?(bl(0),!1):!0}function Yh(){if(bt!==null){if(Gt===0)var t=bt.return;else t=bt,Ci=es=null,oh(t),Fs=null,rl=0,t=bt;for(;t!==null;)Mg(t.alternate,t),t=t.return;bt=null}}function nr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,vE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Li=0,Yh(),Jt=t,bt=a=bi(t.current,null),Ct=n,Gt=0,dn=null,ca=!1,Ws=Mn(t,n),Ph=!1,tr=mn=Hh=cs=ha=ue=0,an=Al=null,kh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-oe(l),h=1<<c;n|=t[c],l&=~h}return Ui=n,Ou(),a}function ip(t,n){Tt=null,k.H=ml,n===Qs||n===qu?(n=vm(),Gt=3):n===Jc?(n=vm(),Gt=4):Gt=n===Rh?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,bt===null&&(ue=1,to(t,An(n,t.current)))}function ap(){var t=hn.current;return t===null?!0:(Ct&4194048)===Ct?Cn===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?t===Cn:!1}function sp(){var t=k.H;return k.H=ml,t===null?ml:t}function rp(){var t=k.A;return k.A=J0,t}function fo(){ue=4,ca||(Ct&4194048)!==Ct&&hn.current!==null||(Ws=!0),(ha&134217727)===0&&(cs&134217727)===0||Jt===null||ma(Jt,Ct,mn,!1)}function Xh(t,n,a){var l=qt;qt|=2;var c=sp(),h=rp();(Jt!==t||Ct!==n)&&(co=null,nr(t,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&bt!==null){var E=bt,C=dn;switch(Gt){case 8:Yh(),g=6;break t;case 3:case 2:case 9:case 6:hn.current===null&&(n=!0);var B=Gt;if(Gt=0,dn=null,ir(t,E,C,B),a&&Ws){g=0;break t}break;default:B=Gt,Gt=0,dn=null,ir(t,E,C,B)}}tE(),g=ue;break}catch(H){ip(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ci=es=null,qt=l,k.H=c,k.A=h,bt===null&&(Jt=null,Ct=0,Ou()),g}function tE(){for(;bt!==null;)lp(bt)}function eE(t,n){var a=qt;qt|=2;var l=sp(),c=rp();Jt!==t||Ct!==n?(co=null,oo=Ke()+500,nr(t,n)):Ws=Mn(t,n);t:do try{if(Gt!==0&&bt!==null){n=bt;var h=dn;e:switch(Gt){case 1:Gt=0,dn=null,ir(t,n,h,1);break;case 2:case 9:if(ym(h)){Gt=0,dn=null,up(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),di(t)},h.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:ym(h)?(Gt=0,dn=null,up(n)):(Gt=0,dn=null,ir(t,n,h,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?Yp(g):E.stateNode.complete){Gt=0,dn=null;var C=E.sibling;if(C!==null)bt=C;else{var B=E.return;B!==null?(bt=B,mo(B)):bt=null}break e}}Gt=0,dn=null,ir(t,n,h,5);break;case 6:Gt=0,dn=null,ir(t,n,h,6);break;case 8:Yh(),ue=6;break t;default:throw Error(s(462))}}nE();break}catch(H){ip(t,H)}while(!0);return Ci=es=null,k.H=l,k.A=c,qt=a,bt!==null?0:(Jt=null,Ct=0,Ou(),ue)}function nE(){for(;bt!==null&&!bc();)lp(bt)}function lp(t){var n=Ng(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?mo(t):bt=n}function up(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Rg(a,n,n.pendingProps,n.type,void 0,Ct);break;case 11:n=Rg(a,n,n.pendingProps,n.type.render,n.ref,Ct);break;case 5:oh(n);default:Mg(a,n),n=bt=rm(n,Ui),n=Ng(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?mo(t):bt=n}function ir(t,n,a,l){Ci=es=null,oh(n),Fs=null,rl=0;var c=n.return;try{if(G0(t,c,n,a,Ct)){ue=1,to(t,An(a,t.current)),bt=null;return}}catch(h){if(c!==null)throw bt=c,h;ue=1,to(t,An(a,t.current)),bt=null;return}n.flags&32768?(Nt||l===1?t=!0:Ws||(Ct&536870912)!==0?t=!1:(ca=t=!0,(l===2||l===9||l===3||l===6)&&(l=hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),op(n,t)):mo(n)}function mo(t){var n=t;do{if((n.flags&32768)!==0){op(n,ca);return}t=n.return;var a=Y0(n.alternate,n,Ui);if(a!==null){bt=a;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=t}while(n!==null);ue===0&&(ue=5)}function op(t,n){do{var a=X0(t.alternate,t);if(a!==null){a.flags&=32767,bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){bt=t;return}bt=t=a}while(t!==null);ue=6,bt=null}function cp(t,n,a,l,c,h,g,E,C){t.cancelPendingCommit=null;do go();while(Ve!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Uc,wc(t,a,h,g,E,C),t===Jt&&(bt=Jt=null,Ct=0),er=n,da=t,Li=a,Gh=h,Qh=c,Wg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rE(Gi,function(){return gp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null,c=tt.p,tt.p=2,g=qt,qt|=4;try{K0(t,n,a)}finally{qt=g,tt.p=c,k.T=l}}Ve=1,hp(),fp(),dp()}}function hp(){if(Ve===1){Ve=0;var t=da,n=er,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{Qg(n,t);var h=lf,g=Jd(t.containerInfo),E=h.focusedElem,C=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(C!==null&&Nc(E)){var B=C.start,H=C.end;if(H===void 0&&(H=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(H,E.value.length);else{var F=E.ownerDocument||document,j=F&&F.defaultView||window;if(j.getSelection){var P=j.getSelection(),rt=E.textContent.length,ft=Math.min(C.start,rt),Zt=C.end===void 0?ft:Math.min(C.end,rt);!P.extend&&ft>Zt&&(g=Zt,Zt=ft,ft=g);var M=Kd(E,ft),V=Kd(E,Zt);if(M&&V&&(P.rangeCount!==1||P.anchorNode!==M.node||P.anchorOffset!==M.offset||P.focusNode!==V.node||P.focusOffset!==V.offset)){var L=F.createRange();L.setStart(M.node,M.offset),P.removeAllRanges(),ft>Zt?(P.addRange(L),P.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),P.addRange(L))}}}}for(F=[],P=E;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}wo=!!rf,lf=rf=null}finally{qt=c,tt.p=l,k.T=a}}t.current=n,Ve=2}}function fp(){if(Ve===2){Ve=0;var t=da,n=er,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var l=tt.p;tt.p=2;var c=qt;qt|=4;try{qg(t,n.alternate,n)}finally{qt=c,tt.p=l,k.T=a}}Ve=3}}function dp(){if(Ve===4||Ve===3){Ve=0,au();var t=da,n=er,a=Li,l=Wg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ve=5:(Ve=0,er=da=null,mp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(fa=null),Ei(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(On,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=k.T,c=tt.p,tt.p=2,k.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{k.T=n,tt.p=c}}(Li&3)!==0&&go(),di(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Fh?Sl++:(Sl=0,Fh=t):Sl=0,bl(0)}}function mp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,al(n)))}function go(){return hp(),fp(),dp(),gp()}function gp(){if(Ve!==5)return!1;var t=da,n=Gh;Gh=0;var a=Ei(Li),l=k.T,c=tt.p;try{tt.p=32>a?32:a,k.T=null,a=Qh,Qh=null;var h=da,g=Li;if(Ve=0,er=da=null,Li=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,Zg(h.current),Yg(h,h.current,g,a),qt=E,bl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(On,h)}catch{}return!0}finally{tt.p=c,k.T=l,mp(t,n)}}function pp(t,n,a){n=An(a,n),n=bh(t.stateNode,n,2),t=ra(t,n,2),t!==null&&(Ba(t,2),di(t))}function Qt(t,n,a){if(t.tag===3)pp(t,t,a);else for(;n!==null;){if(n.tag===3){pp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))){t=An(a,t),a=yg(2),l=ra(n,a,2),l!==null&&(_g(a,l,n,t),Ba(l,2),di(l));break}}n=n.return}}function Kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Ph=!0,c.add(a),t=iE.bind(null,t,n,a),n.then(t,t))}function iE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ct&a)===a&&(ue===4||ue===3&&(Ct&62914560)===Ct&&300>Ke()-uo?(qt&2)===0&&nr(t,0):Hh|=a,tr===Ct&&(tr=0)),di(t)}function yp(t,n){n===0&&(n=cu()),t=$a(t,n),t!==null&&(Ba(t,n),di(t))}function aE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),yp(t,a)}function sE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),yp(t,a)}function rE(t,n){return De(t,n)}var po=null,ar=null,Zh=!1,yo=!1,Jh=!1,ga=0;function di(t){t!==ar&&t.next===null&&(ar===null?po=ar=t:ar=ar.next=t),yo=!0,Zh||(Zh=!0,uE())}function bl(t,n){if(!Jh&&yo){Jh=!0;do for(var a=!1,l=po;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-oe(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Tp(l,h))}else h=Ct,h=Kn(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Mn(l,h)||(a=!0,Tp(l,h));l=l.next}while(a);Jh=!1}}function lE(){_p()}function _p(){yo=Zh=!1;var t=0;ga!==0&&_E()&&(t=ga);for(var n=Ke(),a=null,l=po;l!==null;){var c=l.next,h=vp(l,n);h===0?(l.next=null,a===null?po=c:a.next=c,c===null&&(ar=a)):(a=l,(t!==0||(h&3)!==0)&&(yo=!0)),l=c}Ve!==0&&Ve!==5||bl(t),ga!==0&&(ga=0)}function vp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-oe(h),E=1<<g,C=c[g];C===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Cc(E,n)):C<=n&&(t.expiredLanes|=E),h&=~E}if(n=Jt,a=Ct,a=Kn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ki(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Mn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&ki(l),Ei(a)){case 2:case 8:a=xr;break;case 32:a=Gi;break;case 268435456:a=su;break;default:a=Gi}return l=Ep.bind(null,t),a=De(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&ki(l),t.callbackPriority=2,t.callbackNode=null,2}function Ep(t,n){if(Ve!==0&&Ve!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(go()&&t.callbackNode!==a)return null;var l=Ct;return l=Kn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ep(t,l,n),vp(t,Ke()),t.callbackNode!=null&&t.callbackNode===a?Ep.bind(null,t):null)}function Tp(t,n){if(go())return null;ep(t,n,!0)}function uE(){EE(function(){(qt&6)!==0?De(Mr,lE):_p()})}function $h(){if(ga===0){var t=ks;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),ga=t}return ga}function Ap(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ds(""+t)}function Sp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function oE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Ap((c[Ne]||null).action),g=l.submitter;g&&(n=(n=g[Ne]||null)?Ap(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new ri("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var C=g?Sp(c,g):new FormData(c);_h(a,{pending:!0,data:C,method:c.method,action:h},null,C)}}else typeof h=="function"&&(E.preventDefault(),C=g?Sp(c,g):new FormData(c),_h(a,{pending:!0,data:C,method:c.method,action:h},h,C))},currentTarget:c}]})}}for(var Wh=0;Wh<zc.length;Wh++){var tf=zc[Wh],cE=tf.toLowerCase(),hE=tf[0].toUpperCase()+tf.slice(1);Pn(cE,"on"+hE)}Pn(tm,"onAnimationEnd"),Pn(em,"onAnimationIteration"),Pn(nm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(w0,"onTransitionRun"),Pn(D0,"onTransitionStart"),Pn(V0,"onTransitionCancel"),Pn(im,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function bp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,B=E.currentTarget;if(E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Nu(H)}c.currentTarget=null,h=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,B=E.currentTarget,E=E.listener,C!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=B;try{h(c)}catch(H){Nu(H)}c.currentTarget=null,h=C}}}}function Rt(t,n){var a=n[Ss];a===void 0&&(a=n[Ss]=new Set);var l=t+"__bubble";a.has(l)||(Rp(n,t,2,!1),a.add(l))}function ef(t,n,a){var l=0;n&&(l|=4),Rp(a,t,l,n)}var _o="_reactListening"+Math.random().toString(36).slice(2);function nf(t){if(!t[_o]){t[_o]=!0,Lr.forEach(function(a){a!=="selectionchange"&&(fE.has(a)||ef(a,!1,t),ef(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[_o]||(n[_o]=!0,ef("selectionchange",!1,n))}}function Rp(t,n,a,l){switch(ty(n)){case 2:var c=qE;break;case 8:c=PE;break;default:c=_f}a=c.bind(null,n,a,t),c=void 0,!Ga||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function af(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Wn(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=h=g;continue t}E=E.parentNode}}l=l.return}Zi(function(){var B=h,H=_n(a),F=[];t:{var j=am.get(t);if(j!==void 0){var P=ri,rt=t;switch(t){case"keypress":if(Fa(a)===0)break t;case"keydown":case"keyup":P=Du;break;case"focusin":rt="focus",P=Xa;break;case"focusout":rt="blur",P=Xa;break;case"beforeblur":case"afterblur":P=Xa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Zr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=m;break;case tm:case em:case nm:P=Tu;break;case im:P=T;break;case"scroll":case"scrollend":P=Kr;break;case"wheel":P=q;break;case"copy":case"cut":case"paste":P=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Si;break;case"toggle":case"beforetoggle":P=Et}var ft=(n&4)!==0,Zt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?j!==null?j+"Capture":null:j;ft=[];for(var V=B,L;V!==null;){var G=V;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||M===null||(G=Ln(V,M),G!=null&&ft.push(Cl(V,G,L))),Zt)break;V=V.return}0<ft.length&&(j=new P(j,rt,null,a,H),F.push({event:j,listeners:ft}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",j&&a!==Fr&&(rt=a.relatedTarget||a.fromElement)&&(Wn(rt)||rt[Jn]))break t;if((P||j)&&(j=H.window===H?H:(j=H.ownerDocument)?j.defaultView||j.parentWindow:window,P?(rt=a.relatedTarget||a.toElement,P=B,rt=rt?Wn(rt):null,rt!==null&&(Zt=f(rt),ft=rt.tag,rt!==Zt||ft!==5&&ft!==27&&ft!==6)&&(rt=null)):(P=null,rt=B),P!==rt)){if(ft=Zr,G="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ft=Si,G="onPointerLeave",M="onPointerEnter",V="pointer"),Zt=P==null?j:ln(P),L=rt==null?j:ln(rt),j=new ft(G,V+"leave",P,a,H),j.target=Zt,j.relatedTarget=L,G=null,Wn(H)===B&&(ft=new ft(M,V+"enter",rt,a,H),ft.target=L,ft.relatedTarget=Zt,G=ft),Zt=G,P&&rt)e:{for(ft=dE,M=P,V=rt,L=0,G=M;G;G=ft(G))L++;G=0;for(var ot=V;ot;ot=ft(ot))G++;for(;0<L-G;)M=ft(M),L--;for(;0<G-L;)V=ft(V),G--;for(;L--;){if(M===V||V!==null&&M===V.alternate){ft=M;break e}M=ft(M),V=ft(V)}ft=null}else ft=null;P!==null&&Cp(F,j,P,ft,!1),rt!==null&&Zt!==null&&Cp(F,Zt,rt,ft,!0)}}t:{if(j=B?ln(B):window,P=j.nodeName&&j.nodeName.toLowerCase(),P==="select"||P==="input"&&j.type==="file")var Lt=kd;else if(Pd(j))if(Gd)Lt=b0;else{Lt=A0;var lt=T0}else P=j.nodeName,!P||P.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&ws(B.elementType)&&(Lt=kd):Lt=S0;if(Lt&&(Lt=Lt(t,B))){Hd(F,Lt,a,H);break t}lt&&lt(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&kr(j,"number",j.value)}switch(lt=B?ln(B):window,t){case"focusin":(Pd(lt)||lt.contentEditable==="true")&&(zs=lt,Oc=B,el=null);break;case"focusout":el=Oc=zs=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,$d(F,a,H);break;case"selectionchange":if(C0)break;case"keydown":case"keyup":$d(F,a,H)}var St;if(jt)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else xs?Ka(t,a)&&(wt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(wt="onCompositionStart");wt&&(oi&&a.locale!=="ko"&&(xs||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&xs&&(St=Xr()):(si=H,Yr="value"in si?si.value:si.textContent,xs=!0)),lt=vo(B,wt),0<lt.length&&(wt=new ui(wt,t,null,a,H),F.push({event:wt,listeners:lt}),St?wt.data=St:(St=Ms(a),St!==null&&(wt.data=St)))),(St=En?y0(t,a):_0(t,a))&&(wt=vo(B,"onBeforeInput"),0<wt.length&&(lt=new ui("onBeforeInput","beforeinput",null,a,H),F.push({event:lt,listeners:wt}),lt.data=St)),oE(F,t,B,a,H)}bp(F,n)})}function Cl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function vo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Ln(t,a),c!=null&&l.unshift(Cl(t,c,h)),c=Ln(t,n),c!=null&&l.push(Cl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function dE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,C=E.alternate,B=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||B===null||(C=B,c?(B=Ln(a,h),B!=null&&g.unshift(Cl(a,B,C))):c||(B=Ln(a,h),B!=null&&g.push(Cl(a,B,C)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var mE=/\r\n?/g,gE=/\u0000|\uFFFD/g;function wp(t){return(typeof t=="string"?t:""+t).replace(mE,`
`).replace(gE,"")}function Dp(t,n){return n=wp(n),wp(t)===n}function Kt(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||We(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&We(t,""+l);break;case"className":un(t,"class",l);break;case"tabIndex":un(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":un(t,a,l);break;case"style":Qr(t,l,h);break;case"data":if(n!=="object"){un(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ds(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ds(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Un);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ds(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),Rs(t,"popover",l);break;case"xlinkActuate":_e(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_e(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_e(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_e(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_e(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_e(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_e(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_e(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_e(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_u.get(a)||a,Rs(t,a,l))}}function sf(t,n,a,l,c,h){switch(a){case"style":Qr(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?We(t,l):(typeof l=="number"||typeof l=="bigint")&&We(t,""+l);break;case"onScroll":l!=null&&Rt("scroll",t);break;case"onScrollEnd":l!=null&&Rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[Ne]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Rs(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,h,g,a,null)}}c&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Rt("invalid",t);var E=h=g=c=null,C=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":B=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Kt(t,n,l,H,a,null)}}gu(t,h,E,C,B,g,c,!1);return;case"select":Rt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Kt(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?Fi(t,!!l,n,!1):a!=null&&Fi(t,!!l,a,!0);return;case"textarea":Rt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,g,E,a,null)}Yi(t,l,c,h);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,C,l,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Rt(Rl[l],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,a,null)}return;default:if(ws(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&sf(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function pE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,C=null,B=null,H=null;for(P in a){var F=a[P];if(a.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":C=F;default:l.hasOwnProperty(P)||Kt(t,n,P,null,l,F)}}for(var j in l){var P=l[j];if(F=a[j],l.hasOwnProperty(j)&&(P!=null||F!=null))switch(j){case"type":h=P;break;case"name":c=P;break;case"checked":B=P;break;case"defaultChecked":H=P;break;case"value":g=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,n));break;default:P!==F&&Kt(t,n,j,P,l,F)}}Cs(t,g,E,C,B,H,h,c);return;case"select":P=g=E=j=null;for(h in a)if(C=a[h],a.hasOwnProperty(h)&&C!=null)switch(h){case"value":break;case"multiple":P=C;default:l.hasOwnProperty(h)||Kt(t,n,h,null,l,C)}for(c in l)if(h=l[c],C=a[c],l.hasOwnProperty(c)&&(h!=null||C!=null))switch(c){case"value":j=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==C&&Kt(t,n,c,h,l,C)}n=E,a=g,l=P,j!=null?Fi(t,!!a,j,!1):!!l!=!!a&&(n!=null?Fi(t,!!a,n,!0):Fi(t,!!a,a?[]:"",!1));return;case"textarea":P=j=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":j=c;break;case"defaultValue":P=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&Kt(t,n,g,c,l,h)}pu(t,j,P);return;case"option":for(var rt in a)if(j=a[rt],a.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Kt(t,n,rt,null,l,j)}for(C in l)if(j=l[C],P=a[C],l.hasOwnProperty(C)&&j!==P&&(j!=null||P!=null))switch(C){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,C,j,l,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)j=a[ft],a.hasOwnProperty(ft)&&j!=null&&!l.hasOwnProperty(ft)&&Kt(t,n,ft,null,l,j);for(B in l)if(j=l[B],P=a[B],l.hasOwnProperty(B)&&j!==P&&(j!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(t,n,B,j,l,P)}return;default:if(ws(n)){for(var Zt in a)j=a[Zt],a.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&sf(t,n,Zt,void 0,l,j);for(H in l)j=l[H],P=a[H],!l.hasOwnProperty(H)||j===P||j===void 0&&P===void 0||sf(t,n,H,j,l,P);return}}for(var M in a)j=a[M],a.hasOwnProperty(M)&&j!=null&&!l.hasOwnProperty(M)&&Kt(t,n,M,null,l,j);for(F in l)j=l[F],P=a[F],!l.hasOwnProperty(F)||j===P||j==null&&P==null||Kt(t,n,F,j,l,P)}function Vp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Vp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var C=a[l],B=C.startTime;if(B>E)break;var H=C.transferSize,F=C.initiatorType;H&&Vp(F)&&(C=C.responseEnd,g+=H*(C<E?1:(E-B)/(C-B)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var rf=null,lf=null;function Eo(t){return t.nodeType===9?t:t.ownerDocument}function Ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var of=null;function _E(){var t=window.event;return t&&t.type==="popstate"?t===of?!1:(of=t,!0):(of=null,!1)}var Op=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Mp=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mp<"u"?function(t){return Mp.resolve(null).then(t).catch(TE)}:Op;function TE(t){setTimeout(function(){throw t})}function pa(t){return t==="head"}function xp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),ur(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[$n]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&wl(t.ownerDocument.body);a=c}while(a);ur(n)}function zp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cf(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function AE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$n])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function SE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=wn(t.nextSibling),t===null))return null;return t}function Up(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wn(t.nextSibling),t===null))return null;return t}function hf(t){return t.data==="$?"||t.data==="$~"}function ff(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bE(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var df=null;function Lp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return wn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Bp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function jp(t,n,a){switch(n=Eo(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);bs(t)}var Dn=new Map,qp=new Set;function To(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=tt.d;tt.d={f:RE,r:CE,D:wE,C:DE,L:VE,m:IE,X:OE,S:NE,M:ME};function RE(){var t=Bi.f(),n=ho();return t||n}function CE(t){var n=yn(t);n!==null&&n.tag===5&&n.type==="form"?ig(n):Bi.r(t)}var sr=typeof document>"u"?null:document;function Pp(t,n,a){var l=sr;if(l&&typeof n=="string"&&n){var c=$e(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),qp.has(c)||(qp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function wE(t){Bi.D(t),Pp("dns-prefetch",t,null)}function DE(t,n){Bi.C(t,n),Pp("preconnect",t,n)}function VE(t,n,a){Bi.L(t,n,a);var l=sr;if(l&&t&&n){var c='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+$e(a.imageSizes)+'"]')):c+='[href="'+$e(t)+'"]';var h=c;switch(n){case"style":h=rr(t);break;case"script":h=lr(t)}Dn.has(h)||(t=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Dn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Dl(h))||n==="script"&&l.querySelector(Vl(h))||(n=l.createElement("link"),Pe(n,"link",t),ye(n),l.head.appendChild(n)))}}function IE(t,n){Bi.m(t,n);var a=sr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=lr(t)}if(!Dn.has(h)&&(t=b({rel:"modulepreload",href:t},n),Dn.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(h)))return}l=a.createElement("link"),Pe(l,"link",t),ye(l),a.head.appendChild(l)}}}function NE(t,n,a){Bi.S(t,n,a);var l=sr;if(l&&t){var c=ti(l).hoistableStyles,h=rr(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(Dl(h)))E.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Dn.get(h))&&mf(t,a);var C=g=l.createElement("link");ye(C),Pe(C,"link",t),C._p=new Promise(function(B,H){C.onload=B,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ao(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function OE(t,n){Bi.X(t,n);var a=sr;if(a&&t){var l=ti(a).hoistableScripts,c=lr(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=b({src:t,async:!0},n),(n=Dn.get(c))&&gf(t,n),h=a.createElement("script"),ye(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ME(t,n){Bi.M(t,n);var a=sr;if(a&&t){var l=ti(a).hoistableScripts,c=lr(t),h=l.get(c);h||(h=a.querySelector(Vl(c)),h||(t=b({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&gf(t,n),h=a.createElement("script"),ye(h),Pe(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function Hp(t,n,a,l){var c=(c=At.current)?To(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=rr(a.href),a=ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rr(a.href);var h=ti(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Dl(t)))&&!h._p&&(g.instance=h,g.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),h||xE(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=lr(a),a=ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rr(t){return'href="'+$e(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function kp(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function xE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),ye(n),t.head.appendChild(n))}function lr(t){return'[src="'+$e(t)+'"]'}function Vl(t){return"script[async]"+t}function Gp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return n.instance=l,ye(l),l;var c=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ye(l),Pe(l,"style",c),Ao(l,a.precedence,t),n.instance=l;case"stylesheet":c=rr(a.href);var h=t.querySelector(Dl(c));if(h)return n.state.loading|=4,n.instance=h,ye(h),h;l=kp(a),(c=Dn.get(c))&&mf(l,c),h=(t.ownerDocument||t).createElement("link"),ye(h);var g=h;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(h,"link",l),n.state.loading|=4,Ao(h,a.precedence,t),n.instance=h;case"script":return h=lr(a.src),(c=t.querySelector(Vl(h)))?(n.instance=c,ye(c),c):(l=a,(c=Dn.get(h))&&(l=b({},a),gf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ye(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ao(l,a.precedence,t));return n.instance}function Ao(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function mf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var So=null;function Qp(t,n,a){if(So===null){var l=new Map,c=So=new Map;c.set(a,l)}else c=So,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[$n]||h[pe]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function Fp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function zE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Yp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function UE(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=rr(l.href),h=n.querySelector(Dl(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,ye(h);return}h=n.ownerDocument||n,l=kp(l),(c=Dn.get(c))&&mf(l,c),h=h.createElement("link"),ye(h);var g=h;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Pe(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=bo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var pf=0;function LE(t,n){return t.stylesheets&&t.count===0&&Co(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Co(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&pf===0&&(pf=62500*yE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Co(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>pf?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function bo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Co(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ro=null;function Co(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ro=new Map,n.forEach(BE,t),Ro=null,bo.call(t))}function BE(t,n){if(!(n.state.loading&4)){var a=Ro.get(t);if(a)var l=a.get(null);else{a=new Map,Ro.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=bo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Il={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function jE(t,n,a,l,c,h,g,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zn(0),this.hiddenUpdates=Zn(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Xp(t,n,a,l,c,h,g,E,C,B,H,F){return t=new jE(t,n,a,g,C,B,H,F,E),n=1,h===!0&&(n|=24),h=cn(3,null,null,n),t.current=h,h.stateNode=t,n=Xc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},$c(h),t}function Kp(t){return t?(t=Bs,t):Bs}function Zp(t,n,a,l,c,h){c=Kp(c),l.context===null?l.context=c:l.pendingContext=c,l=sa(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ra(t,l,n),a!==null&&(sn(a,t,n),ul(a,t,n))}function Jp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function yf(t,n){Jp(t,n),(t=t.alternate)&&Jp(t,n)}function $p(t){if(t.tag===13||t.tag===31){var n=$a(t,67108864);n!==null&&sn(n,t,67108864),yf(t,67108864)}}function Wp(t){if(t.tag===13||t.tag===31){var n=gn();n=qa(n);var a=$a(t,n);a!==null&&sn(a,t,n),yf(t,n)}}var wo=!0;function qE(t,n,a,l){var c=k.T;k.T=null;var h=tt.p;try{tt.p=2,_f(t,n,a,l)}finally{tt.p=h,k.T=c}}function PE(t,n,a,l){var c=k.T;k.T=null;var h=tt.p;try{tt.p=8,_f(t,n,a,l)}finally{tt.p=h,k.T=c}}function _f(t,n,a,l){if(wo){var c=vf(l);if(c===null)af(t,n,l,Do,a),ey(t,l);else if(kE(c,t,n,a,l))l.stopPropagation();else if(ey(t,l),n&4&&-1<HE.indexOf(t)){for(;c!==null;){var h=yn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Xn(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-oe(g);E.entanglements[1]|=C,g&=~C}di(h),(qt&6)===0&&(oo=Ke()+500,bl(0))}}break;case 31:case 13:E=$a(h,2),E!==null&&sn(E,h,2),ho(),yf(h,2)}if(h=vf(l),h===null&&af(t,n,l,Do,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else af(t,n,l,null,a)}}function vf(t){return t=_n(t),Ef(t)}var Do=null;function Ef(t){if(Do=null,t=Wn(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Do=t,null}function ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ua()){case Mr:return 2;case xr:return 8;case Gi:case Rc:return 32;case su:return 268435456;default:return 32}default:return 32}}var Tf=!1,ya=null,_a=null,va=null,Nl=new Map,Ol=new Map,Ea=[],HE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ey(t,n){switch(t){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":Nl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(n.pointerId)}}function Ml(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=yn(n),n!==null&&$p(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function kE(t,n,a,l,c){switch(n){case"focusin":return ya=Ml(ya,t,n,a,l,c),!0;case"dragenter":return _a=Ml(_a,t,n,a,l,c),!0;case"mouseover":return va=Ml(va,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Nl.set(h,Ml(Nl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ol.set(h,Ml(Ol.get(h)||null,t,n,a,l,c)),!0}return!1}function ny(t){var n=Wn(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,xn(t.priority,function(){Wp(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,xn(t.priority,function(){Wp(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=vf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fr=l,a.target.dispatchEvent(l),Fr=null}else return n=yn(a),n!==null&&$p(n),t.blockedOn=a,!1;n.shift()}return!0}function iy(t,n,a){Vo(t)&&a.delete(n)}function GE(){Tf=!1,ya!==null&&Vo(ya)&&(ya=null),_a!==null&&Vo(_a)&&(_a=null),va!==null&&Vo(va)&&(va=null),Nl.forEach(iy),Ol.forEach(iy)}function Io(t,n){t.blockedOn===n&&(t.blockedOn=null,Tf||(Tf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,GE)))}var No=null;function ay(t){No!==t&&(No=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){No===t&&(No=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Ef(l||a)===null)continue;break}var h=yn(a);h!==null&&(t.splice(n,3),n-=3,_h(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function ur(t){function n(C){return Io(C,t)}ya!==null&&Io(ya,t),_a!==null&&Io(_a,t),va!==null&&Io(va,t),Nl.forEach(n),Ol.forEach(n);for(var a=0;a<Ea.length;a++){var l=Ea[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)ny(a),a.blockedOn===null&&Ea.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[Ne]||null;if(typeof h=="function")g||ay(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[Ne]||null)E=g.formAction;else if(Ef(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),ay(a)}}}function sy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Af(t){this._internalRoot=t}Oo.prototype.render=Af.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=gn();Zp(a,l,t,n,null,null)},Oo.prototype.unmount=Af.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Zp(t.current,2,null,t,null,null),ho(),n[Jn]=null}};function Oo(t){this._internalRoot=t}Oo.prototype.unstable_scheduleHydration=function(t){if(t){var n=hu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ea.length&&n!==0&&n<Ea[a].priority;a++);Ea.splice(a,0,t),a===0&&ny(t)}};var ry=e.version;if(ry!=="19.2.0")throw Error(s(527,ry,"19.2.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var QE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mo.isDisabled&&Mo.supportsFiber)try{On=Mo.inject(QE),Ue=Mo}catch{}}return zl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=dg,h=mg,g=gg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Xp(t,1,!1,null,null,a,l,null,c,h,g,sy),t[Jn]=n.current,nf(t),new Af(n)},zl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",h=dg,g=mg,E=gg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=Xp(t,1,!0,n,a??null,l,c,C,h,g,E,sy),n.context=Kp(null),a=n.current,l=gn(),l=qa(l),c=sa(l),c.callback=null,ra(a,c,l),a=l,n.current.lanes=a,Ba(n,a),di(n),t[Jn]=n.current,nf(t),new Oo(n)},zl.version="19.2.0",zl}var py;function eT(){if(py)return Rf.exports;py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rf.exports=tT(),Rf.exports}var nT=eT();const iT=""+new URL("CHIDO-CoLxBe37.png",import.meta.url).href,aT=()=>W.jsxs("header",{className:"text-center mb-4",children:[W.jsx("img",{src:iT,alt:"Logo",className:"img-fluid mb-3",style:{maxWidth:"120px"}}),W.jsx("h1",{className:"visually-hidden",children:"Reglas de faltas"})]}),yy=({number:r,description:e})=>W.jsxs("li",{className:"d-flex mb-3",children:[W.jsx("span",{className:"d-inline-flex justify-content-center align-items-center border rounded bg-secondary text-white fw-bold me-3",style:{width:"80px",height:"30px"},children:r}),W.jsx("div",{children:W.jsx("p",{className:"mb-0 small",children:e})})]}),sT=()=>W.jsxs("ul",{className:"list-unstyled text-start mx-auto mt-4 text-white",style:{maxWidth:"400px"},children:[W.jsx(yy,{number:"1ra vez:",description:"Dejar 50 en el bote"}),W.jsx(yy,{number:"2da vez:",description:"Amonestacin"})]}),rT=()=>{};var _y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},lT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=f>>2,b=(f&3)<<4|y>>4;let z=(y&15)<<2|_>>6,Q=_&63;v||(Q=64,d||(z=64)),s.push(i[A],i[b],i[z],i[Q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(I_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const f=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const b=u<r.length?i[r.charAt(u)]:64;if(++u,f==null||y==null||_==null||b==null)throw new uT;const z=f<<2|y>>4;if(s.push(z),_!==64){const Q=y<<4&240|_>>2;if(s.push(Q),b!==64){const $=_<<6&192|b;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oT=function(r){const e=I_(r);return N_.encodeByteArray(e,!0)},Yo=function(r){return oT(r).replace(/\./g,"")},cT=function(r){try{return N_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=()=>hT().__FIREBASE_DEFAULTS__,dT=()=>{if(typeof process>"u"||typeof _y>"u")return;const r=_y.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},ld=()=>{try{return rT()||fT()||dT()||mT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gT=r=>ld()?.emulatorHosts?.[r],pT=r=>{const e=gT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},O_=()=>ld()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _T(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yo(JSON.stringify(i)),Yo(JSON.stringify(d)),""].join(".")}const jl={};function ET(){const r={prod:[],emulator:[]};for(const e of Object.keys(jl))jl[e]?r.emulator.push(e):r.prod.push(e);return r}function TT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let vy=!1;function AT(r,e){if(typeof window>"u"||typeof document>"u"||!ud(window.location.host)||jl[r]===e||jl[r]||vy)return;jl[r]=e;function i(z){return`__firebase__banner__${z}`}const s="__firebase__banner",f=ET().prod.length>0;function d(){const z=document.getElementById(s);z&&z.remove()}function y(z){z.style.display="flex",z.style.background="#7faaf0",z.style.position="fixed",z.style.bottom="5px",z.style.left="5px",z.style.padding=".5em",z.style.borderRadius="5px",z.style.alignItems="center"}function v(z,Q){z.setAttribute("width","24"),z.setAttribute("id",Q),z.setAttribute("height","24"),z.setAttribute("viewBox","0 0 24 24"),z.setAttribute("fill","none"),z.style.marginLeft="-6px"}function _(){const z=document.createElement("span");return z.style.cursor="pointer",z.style.marginLeft="16px",z.style.fontSize="24px",z.innerHTML=" &times;",z.onclick=()=>{vy=!0,d()},z}function A(z,Q){z.setAttribute("id",Q),z.innerText="Learn more",z.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",z.setAttribute("target","__blank"),z.style.paddingLeft="5px",z.style.textDecoration="underline"}function b(){const z=TT(s),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),mt=i("preprendIcon"),gt=document.getElementById(mt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(z.created){const ut=z.element;y(ut),A(J,nt);const Ot=_();v(gt,mt),ut.append(gt,$,J,Ot),document.body.appendChild(ut)}f?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bT(){const r=ld()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RT(){return!bT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CT(){try{return typeof indexedDB=="object"}catch{return!1}}function wT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="FirebaseError";class br extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=DT,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M_.prototype.create)}}class M_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?VT(f,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new br(u,y,s)}}function VT(r,e){return r.replace(IT,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const IT=/\{\$([^}]+)}/g;function Xo(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=r[u],d=e[u];if(Ey(f)&&Ey(d)){if(!Xo(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Ey(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r){return r&&r._delegate?r._delegate:r}class Gl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new yT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MT(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const f=this.instances.get(s);return f&&e(f,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:OT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OT(r){return r===hs?void 0:r}function MT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new NT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const zT={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},UT=zt.INFO,LT={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},BT=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=LT[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x_{constructor(e){this.name=e,this._logLevel=UT,this._logHandler=BT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}}const jT=(r,e)=>e.some(i=>r instanceof i);let Ty,Ay;function qT(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PT(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,Bf=new WeakMap,U_=new WeakMap,Vf=new WeakMap,od=new WeakMap;function HT(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Sa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&z_.set(i,r)}).catch(()=>{}),od.set(e,r),e}function kT(r){if(Bf.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Bf.set(r,e)}let jf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Bf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||U_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function GT(r){jf=r(jf)}function QT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(If(this),e,...i);return U_.set(s,e.sort?e.sort():[e]),Sa(s)}:PT().includes(r)?function(...e){return r.apply(If(this),e),Sa(z_.get(this))}:function(...e){return Sa(r.apply(If(this),e))}}function FT(r){return typeof r=="function"?QT(r):(r instanceof IDBTransaction&&kT(r),jT(r,qT())?new Proxy(r,jf):r)}function Sa(r){if(r instanceof IDBRequest)return HT(r);if(Vf.has(r))return Vf.get(r);const e=FT(r);return e!==r&&(Vf.set(r,e),od.set(e,r)),e}const If=r=>od.get(r);function YT(r,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(r,e),y=Sa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Sa(d.result),v.oldVersion,v.newVersion,Sa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const XT=["get","getKey","getAll","getAllKeys","count"],KT=["put","add","delete","clear"],Nf=new Map;function Sy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=KT.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||XT.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return Nf.set(e,f),f}GT(r=>({...r,get:(e,i,s)=>Sy(e,i)||r.get(e,i,s),has:(e,i)=>!!Sy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JT(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function JT(r){return r.getComponent()?.type==="VERSION"}const qf="@firebase/app",by="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new x_("@firebase/app"),$T="@firebase/app-compat",WT="@firebase/analytics-compat",t1="@firebase/analytics",e1="@firebase/app-check-compat",n1="@firebase/app-check",i1="@firebase/auth",a1="@firebase/auth-compat",s1="@firebase/database",r1="@firebase/data-connect",l1="@firebase/database-compat",u1="@firebase/functions",o1="@firebase/functions-compat",c1="@firebase/installations",h1="@firebase/installations-compat",f1="@firebase/messaging",d1="@firebase/messaging-compat",m1="@firebase/performance",g1="@firebase/performance-compat",p1="@firebase/remote-config",y1="@firebase/remote-config-compat",_1="@firebase/storage",v1="@firebase/storage-compat",E1="@firebase/firestore",T1="@firebase/ai",A1="@firebase/firestore-compat",S1="firebase",b1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",R1={[qf]:"fire-core",[$T]:"fire-core-compat",[t1]:"fire-analytics",[WT]:"fire-analytics-compat",[n1]:"fire-app-check",[e1]:"fire-app-check-compat",[i1]:"fire-auth",[a1]:"fire-auth-compat",[s1]:"fire-rtdb",[r1]:"fire-data-connect",[l1]:"fire-rtdb-compat",[u1]:"fire-fn",[o1]:"fire-fn-compat",[c1]:"fire-iid",[h1]:"fire-iid-compat",[f1]:"fire-fcm",[d1]:"fire-fcm-compat",[m1]:"fire-perf",[g1]:"fire-perf-compat",[p1]:"fire-rc",[y1]:"fire-rc-compat",[_1]:"fire-gcs",[v1]:"fire-gcs-compat",[E1]:"fire-fst",[A1]:"fire-fst-compat",[T1]:"fire-vertex","fire-js":"fire-js",[S1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,C1=new Map,Hf=new Map;function Ry(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Zo(r){const e=r.name;if(Hf.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,r);for(const i of Ko.values())Ry(i,r);for(const i of C1.values())Ry(i,r);return!0}function w1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function D1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ba=new M_("app","Firebase",V1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=b1;function L_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Pf,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw ba.create("bad-app-name",{appName:String(u)});if(i||(i=O_()),!i)throw ba.create("no-options");const f=Ko.get(u);if(f){if(Xo(i,f.options)&&Xo(s,f.config))return f;throw ba.create("duplicate-app",{appName:u})}const d=new xT(u);for(const v of Hf.values())d.addComponent(v);const y=new I1(i,s,d);return Ko.set(u,y),y}function O1(r=Pf){const e=Ko.get(r);if(!e&&r===Pf&&O_())return L_();if(!e)throw ba.create("no-app",{appName:r});return e}function dr(r,e,i){let s=R1[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}Zo(new Gl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="firebase-heartbeat-database",x1=1,Ql="firebase-heartbeat-store";let Of=null;function B_(){return Of||(Of=YT(M1,x1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ql)}catch(i){console.warn(i)}}}}).catch(r=>{throw ba.create("idb-open",{originalErrorMessage:r.message})})),Of}async function z1(r){try{const i=(await B_()).transaction(Ql),s=await i.objectStore(Ql).get(j_(r));return await i.done,s}catch(e){if(e instanceof br)qi.warn(e.message);else{const i=ba.create("idb-get",{originalErrorMessage:e?.message});qi.warn(i.message)}}}async function Cy(r,e){try{const s=(await B_()).transaction(Ql,"readwrite");await s.objectStore(Ql).put(e,j_(r)),await s.done}catch(i){if(i instanceof br)qi.warn(i.message);else{const s=ba.create("idb-set",{originalErrorMessage:i?.message});qi.warn(s.message)}}}function j_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1024,L1=30;class B1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new q1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>L1){const u=P1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wy(),{heartbeatsToSend:i,unsentEntries:s}=j1(this._heartbeatsCache.heartbeats),u=Yo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return qi.warn(e),""}}}function wy(){return new Date().toISOString().substring(0,10)}function j1(r,e=U1){const i=[];let s=r.slice();for(const u of r){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),Dy(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Dy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CT()?wT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await z1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Cy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Dy(r){return Yo(JSON.stringify({version:2,heartbeats:r})).length}function P1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(r){Zo(new Gl("platform-logger",e=>new ZT(e),"PRIVATE")),Zo(new Gl("heartbeat",e=>new B1(e),"PRIVATE")),dr(qf,by,r),dr(qf,by,"esm2020"),dr("fire-js","")}H1("");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ra,q_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function w(){}w.prototype=S.prototype,D.F=S.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,I,x){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[I].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(D,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)O[I]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=D.g[0],w=D.g[1],I=D.g[2];let x=D.g[3],R;R=S+(x^w&(I^x))+O[0]+3614090360&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+O[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+O[2]+606105819&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+O[3]+3250441966&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+O[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+O[6]+2821735955&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+O[7]+4249261313&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+O[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+O[10]+4294925233&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+O[11]+2304563134&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(x^w&(I^x))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(I^S&(w^I))+O[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=I+(w^x&(S^w))+O[14]+2792965006&4294967295,I=x+(R<<17&4294967295|R>>>15),R=w+(S^I&(x^S))+O[15]+1236535329&4294967295,w=I+(R<<22&4294967295|R>>>10),R=S+(I^x&(w^I))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+O[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+O[11]+643717713&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+O[0]+3921069994&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+O[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+O[15]+3634488961&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+O[4]+3889429448&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+O[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+O[3]+4107603335&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+O[8]+1163531501&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(I^x&(w^I))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^I&(S^w))+O[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=I+(S^w&(x^S))+O[7]+1735328473&4294967295,I=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(I^x))+O[12]+2368359562&4294967295,w=I+(R<<20&4294967295|R>>>12),R=S+(w^I^x)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+O[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+O[11]+1839030562&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+O[14]+4259657740&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+O[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+O[7]+4139469664&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+O[10]+3200236656&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+O[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+O[3]+3572445317&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+O[6]+76029189&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(w^I^x)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^I)+O[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=I+(x^S^w)+O[15]+530742520&4294967295,I=x+(R<<16&4294967295|R>>>16),R=w+(I^x^S)+O[2]+3299628645&4294967295,w=I+(R<<23&4294967295|R>>>9),R=S+(I^(w|~x))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+O[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+O[14]+2878612391&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+O[5]+4237533241&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+O[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+O[10]+4293915773&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+O[1]+2240044497&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+O[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+O[6]+2734768916&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+O[13]+1309151649&4294967295,w=I+(R<<21&4294967295|R>>>11),R=S+(I^(w|~x))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~I))+O[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=I+(S^(x|~w))+O[2]+718787259&4294967295,I=x+(R<<15&4294967295|R>>>17),R=w+(x^(I|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+x&4294967295}s.prototype.v=function(D,S){S===void 0&&(S=D.length);const w=S-this.blockSize,O=this.C;let I=this.h,x=0;for(;x<S;){if(I==0)for(;x<=w;)u(this,D,x),x+=this.blockSize;if(typeof D=="string"){for(;x<S;)if(O[I++]=D.charCodeAt(x++),I==this.blockSize){u(this,O),I=0;break}}else for(;x<S;)if(O[I++]=D[x++],I==this.blockSize){u(this,O),I=0;break}}this.h=I,this.o+=S},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[S++]=this.g[w]>>>O&255;return D};function f(D,S){var w=y;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=S(D)}function d(D,S){this.h=S;const w=[];let O=!0;for(let I=D.length-1;I>=0;I--){const x=D[I]|0;O&&x==S||(w[I]=x,O=!1)}this.g=w}var y={};function v(D){return-128<=D&&D<128?f(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return J(_(-D));const S=[];let w=1;for(let O=0;D>=w;O++)S[O]=D/w|0,w*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return J(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=b;for(let x=0;x<D.length;x+=8){var I=Math.min(8,D.length-x);const R=parseInt(D.substring(x,x+I),S);I<8?(I=_(Math.pow(S,I)),O=O.j(I).add(_(R))):(O=O.j(w),O=O.add(_(R)))}return O}var b=v(0),z=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let D=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(nt(this))return"-"+J(this).toString(D);const S=_(Math.pow(D,6));var w=this;let O="";for(;;){const I=Ot(w,S).g;w=mt(w,I.j(S));let x=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=I,$(w))return x+O;for(;x.length<6;)x="0"+x;O=x+O}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function nt(D){return D.h==-1}r.l=function(D){return D=mt(this,D),nt(D)?-1:$(D)?0:1};function J(D){const S=D.g.length,w=[];for(let O=0;O<S;O++)w[O]=~D.g[O];return new d(w,~D.h).add(z)}r.abs=function(){return nt(this)?J(this):this},r.add=function(D){const S=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let I=0;I<=S;I++){let x=O+(this.i(I)&65535)+(D.i(I)&65535),R=(x>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);O=R>>>16,x&=65535,R&=65535,w[I]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function mt(D,S){return D.add(J(S))}r.j=function(D){if($(this)||$(D))return b;if(nt(this))return nt(D)?J(this).j(J(D)):J(J(this).j(D));if(nt(D))return J(this.j(J(D)));if(this.l(Q)<0&&D.l(Q)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<D.g.length;I++){const x=this.i(O)>>>16,R=this.i(O)&65535,ne=D.i(I)>>>16,Ce=D.i(I)&65535;w[2*O+2*I]+=R*Ce,gt(w,2*O+2*I),w[2*O+2*I+1]+=x*Ce,gt(w,2*O+2*I+1),w[2*O+2*I+1]+=R*ne,gt(w,2*O+2*I+1),w[2*O+2*I+2]+=x*ne,gt(w,2*O+2*I+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new d(w,0)};function gt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ut(D,S){this.g=D,this.h=S}function Ot(D,S){if($(S))throw Error("division by zero");if($(D))return new ut(b,b);if(nt(D))return S=Ot(J(D),S),new ut(J(S.g),J(S.h));if(nt(S))return S=Ot(D,J(S)),new ut(J(S.g),S.h);if(D.g.length>30){if(nt(D)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=z,O=S;O.l(D)<=0;)w=Ft(w),O=Ft(O);var I=It(w,1),x=It(O,1);for(O=It(O,2),w=It(w,2);!$(O);){var R=x.add(O);R.l(D)<=0&&(I=I.add(w),x=R),O=It(O,1),w=It(w,1)}return S=mt(D,I.j(S)),new ut(I,S)}for(I=b;D.l(S)>=0;){for(w=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),x=_(w),R=x.j(S);nt(R)||R.l(D)>0;)w-=O,x=_(w),R=x.j(S);$(x)&&(x=z),I=I.add(x),D=mt(D,R)}return new ut(I,D)}r.B=function(D){return Ot(this,D).h},r.and=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},r.or=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},r.xor=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function Ft(D){const S=D.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function It(D,S){const w=S>>5;S%=32;const O=D.g.length-w,I=[];for(let x=0;x<O;x++)I[x]=S>0?D.i(x+w)>>>S|D.i(x+w+1)<<32-S:D.i(x+w);return new d(I,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,q_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ra=d}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var xo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P_,Ul,H_,Po,kf,k_,G_,Q_;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof xo=="object"&&xo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function b(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,U,q){for(var Z=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Z[Et-2]=arguments[Et];return m.prototype[U].apply(T,Z)}}var z=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function Q(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function $(o,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var p=typeof U;if(p=p!="object"?p:U?Array.isArray(U)?"array":p:"null",p=="array"||p=="object"&&typeof U.length=="number"){p=o.length||0;const q=U.length||0;o.length=p+q;for(let Z=0;Z<q;Z++)o[p+Z]=U[Z]}else o.push(U)}}class nt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(o){d.setTimeout(()=>{throw o},0)}function mt(){var o=D;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,p){const T=ut.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new nt(()=>new Ot,o=>o.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ft,It=!1,D=new gt,S=()=>{const o=Promise.resolve(void 0);Ft=()=>{o.then(w)}};function w(){for(var o;o=mt();){try{o.h.call(o.g)}catch(p){J(p)}var m=ut;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}It=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var x=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function R(o){return/^[\s\xa0]*$/.test(o)}function ne(o,m){I.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}b(ne,I),ne.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),k=0;function tt(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++k,this.da=this.fa=!1}function ht(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Ut(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Ht(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function N(o){const m={};for(const p in o)m[p]=o[p];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let q=0;q<Y.length;q++)p=Y[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function st(o){this.src=o,this.g={},this.h=0}st.prototype.add=function(o,m,p,T,U){const q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);const Z=At(o,m,T,U);return Z>-1?(m=o[Z],p||(m.fa=!1)):(m=new tt(m,this.src,q,!!T,U),m.fa=p,o.push(m)),m};function pt(o,m){const p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(ht(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function At(o,m,p,T){for(let U=0;U<o.length;++U){const q=o[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),we={};function ie(o,m,p,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ie(o,m[q],p,T,U);return null}return p=Or(p),o&&o[Ce]?o.J(m,p,y(T)?!!T.capture:!1,U):xa(o,m,p,!1,T,U)}function xa(o,m,p,T,U,q){if(!m)throw Error("Invalid event type");const Z=y(U)?!!U.capture:!!U;let Et=za(o);if(Et||(o[Mt]=Et=new st(o)),p=Et.add(m,p,T,Z,q),p.proxy)return p;if(T=vs(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)x||(U=Z),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(Fn(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function vs(){function o(p){return m.call(o.src,o.listener,p)}const m=Ir;return o}function Es(o,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Es(o,m[q],p,T,U);else T=y(T)?!!T.capture:!!T,p=Or(p),o&&o[Ce]?(o=o.i,q=String(m).toString(),q in o.g&&(m=o.g[q],p=At(m,p,T,U),p>-1&&(ht(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[q],o.h--)))):o&&(o=za(o))&&(m=o.g[m.toString()],o=-1,m&&(o=At(m,p,T,U)),(p=o>-1?m[o]:null)&&Ts(p))}function Ts(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Ce])pt(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Fn(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=za(m))?(pt(p,o),p.h==0&&(p.src=null,m[Mt]=null)):ht(o)}}}function Fn(o){return o in we?we[o]:we[o]="on"+o}function Ir(o,m){if(o.da)o=!0;else{m=new ne(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&Ts(o),o=p.call(T,m)}return o}function za(o){return o=o[Mt],o instanceof st?o:null}var Nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Or(o){return typeof o=="function"?o:(o[Nr]||(o[Nr]=function(m){return o.handleEvent(m)}),o[Nr])}function me(){O.call(this),this.i=new st(this),this.M=this,this.G=null}b(me,O),me.prototype[Ce]=!0,me.prototype.removeEventListener=function(o,m,p,T){Es(this,o,m,p,T)};function De(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new I(m,o);else if(m instanceof I)m.target=m.target||o;else{var U=m;m=new I(T,o),et(m,U)}U=!0;let q,Z;if(p)for(Z=p.length-1;Z>=0;Z--)q=m.g=p[Z],U=ki(q,T,!0,m)&&U;if(q=m.g=o,U=ki(q,T,!0,m)&&U,U=ki(q,T,!1,m)&&U,p)for(Z=0;Z<p.length;Z++)q=m.g=p[Z],U=ki(q,T,!1,m)&&U}me.prototype.N=function(){if(me.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)ht(p[T]);delete o.g[m],o.h--}}this.G=null},me.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},me.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function ki(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const Z=m[q];if(Z&&!Z.da&&Z.capture==p){const Et=Z.listener,ce=Z.ha||Z.src;Z.fa&&pt(o.i,Z),U=Et.call(ce,T)!==!1&&U}}return U&&!T.defaultPrevented}function bc(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function au(o){o.g=bc(()=>{o.g=null,o.i&&(o.i=!1,au(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ke extends O{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(o){O.call(this),this.h=o,this.g={}}b(Ua,O);var Mr=[];function xr(o){Ut(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ts(m)},o),o.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),xr(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gi=d.JSON.stringify,Rc=d.JSON.parse,su=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function ru(){}function lu(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){I.call(this,"d")}b(Ue,I);function pn(){I.call(this,"c")}b(pn,I);var oe={},uu=null;function As(){return uu=uu||new me}oe.Ia="serverreachability";function ou(o){I.call(this,oe.Ia,o)}b(ou,I);function Yn(o){const m=As();De(m,new ou(m))}oe.STAT_EVENT="statevent";function La(o,m){I.call(this,oe.STAT_EVENT,o),this.stat=m}b(La,I);function ge(o){const m=As();De(m,new La(m,o))}oe.Ja="timingevent";function Xn(o,m){I.call(this,oe.Ja,o),this.size=m}b(Xn,I);function Kn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Mn(){this.g=!0}Mn.prototype.ua=function(){this.g=!1};function Cc(o,m,p,T,U,q){o.info(function(){if(o.g)if(q){var Z="",Et=q.split("&");for(let jt=0;jt<Et.length;jt++){var ce=Et[jt].split("=");if(ce.length>1){const ae=ce[0];ce=ce[1];const En=ae.split("_");Z=En.length>=2&&En[1]=="type"?Z+(ae+"="+ce+"&"):Z+(ae+"=redacted&")}}}else Z=null;else Z=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+Z})}function cu(o,m,p,T,U,q,Z){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+Z})}function Zn(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+wc(o,p)+(T?" "+T:"")})}function Ba(o,m){o.info(function(){return"TIMEOUT: "+m})}Mn.prototype.info=function(){};function wc(o,m){if(!o.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(o=0;o<q.length;o++)if(Array.isArray(q[o])){var p=q[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let Z=1;Z<T.length;Z++)T[Z]=""}}}}return Gi(q)}catch{return m}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ur;function qa(){}b(qa,ru),qa.prototype.g=function(){return new XMLHttpRequest},Ur=new qa;function Ei(o){return encodeURIComponent(String(o))}function hu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function xn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var pe={},Ne={};function Jn(o,m,p){o.M=1,o.A=Pa(_e(m)),o.u=p,o.R=!0,Ss(o,null)}function Ss(o,m){o.F=Date.now(),$n(o),o.B=_e(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),ws(p.i,"t",T),o.C=0,p=o.j.L,o.h=new zn,o.g=Cu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new Ke(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var U="readystatechange";Array.isArray(U)||(U&&(Mr[0]=U.toString()),U=Mr);for(let q=0;q<U.length;q++){const Z=ie(p,U[q],T||m.handleEvent,!1,m.h||m);if(!Z)break;m.g[Z.key]=Z}m=o.J?N(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),Yn(),Cc(o.i,o.v,o.B,o.l,o.S,o.u)}xn.prototype.ba=function(o){o=o.target;const m=this.O;m&&Bn(o)==3?m.j():this.Y(o)},xn.prototype.Y=function(o){try{if(o==this.g)t:{const Et=Bn(this.g),ce=this.g.ya(),jt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||Le(this.g)))){this.K||Et!=4||ce==7||(ce==8||jt<=0?Yn(3):Yn(2)),Wn(this);var m=this.g.ca();this.X=m;var p=Dc(this);if(this.o=m==200,cu(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var q=T;break e}}q=null}if(o=q)Zn(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ti(this,o);else{this.o=!1,this.m=3,ge(12),ln(this),yn(this);break t}}if(this.R){o=!0;let ae;for(;!this.K&&this.C<p.length;)if(ae=du(this,p),ae==Ne){Et==4&&(this.m=4,ge(14),o=!1),Zn(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==pe){this.m=4,ge(15),Zn(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Zn(this.i,this.l,ae,null),ti(this,ae);if(fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||p.length!=0||this.h.h||(this.m=1,ge(16),o=!1),this.o=this.o&&o,!o)Zn(this.i,this.l,p,"[Invalid Chunked Response]"),ln(this),yn(this);else if(p.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Jr(Z),Z.P=!0,ge(11))}}else Zn(this.i,this.l,p,null),ti(this,p);Et==4&&ln(this),this.o&&!this.K&&(Et==4?Au(this.j,this):(this.o=!1,$n(this)))}else Ai(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),ln(this),yn(this)}}}catch{}finally{}};function Dc(o){if(!fu(o))return o.g.la();const m=Le(o.g);if(m==="")return"";let p="";const T=m.length,U=Bn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return ln(o),yn(o),"";o.h.i=new d.TextDecoder}for(let q=0;q<T;q++)o.h.h=!0,p+=o.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function fu(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function du(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ne:(p=Number(m.substring(p,T)),isNaN(p)?pe:(T+=1,T+p>m.length?Ne:(m=m.slice(T,T+p),o.C=T+p,m)))}xn.prototype.cancel=function(){this.K=!0,ln(this)};function $n(o){o.T=Date.now()+o.H,bs(o,o.H)}function bs(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Kn(_(o.aa,o),m)}function Wn(o){o.D&&(d.clearTimeout(o.D),o.D=null)}xn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ba(this.i,this.B),this.M!=2&&(Yn(),ge(17)),ln(this),this.m=2,yn(this)):bs(this,this.T-o)};function yn(o){o.j.I==0||o.K||Au(o.j,o)}function ln(o){Wn(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,xr(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||ni(p.h,o))){if(!o.L&&ni(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Os(p),$i(p);else break t;Xa(p),ge(18)}}else p.xa=U[1],0<p.xa-p.K&&U[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=Kn(_(p.Va,p),6e3));ei(p.h)<=1&&p.ta&&(p.ta=void 0)}else ui(p,11)}else if((o.L||p.g==o)&&Os(p),!R(m))for(U=p.Ba.g.parse(m),m=0;m<U.length;m++){let jt=U[m];const ae=jt[0];if(!(ae<=p.K))if(p.K=ae,jt=jt[1],p.I==2)if(jt[0]=="c"){p.M=jt[1],p.ba=jt[2];const En=jt[3];En!=null&&(p.ka=En,p.j.info("VER="+p.ka));const oi=jt[4];oi!=null&&(p.za=oi,p.j.info("SVER="+p.za));const jn=jt[5];jn!=null&&typeof jn=="number"&&jn>0&&(T=1.5*jn,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const qn=o.g;if(qn){const Ka=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ka){var q=T.h;q.g||Ka.indexOf("spdy")==-1&&Ka.indexOf("quic")==-1&&Ka.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(jr(q,q.h),q.h=null))}if(T.G){const Ms=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ms&&(T.wa=Ms,kt(T.J,T.G,Ms))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var Z=o;if(T.na=Ru(T,T.L?T.ba:null,T.W),Z.L){qr(T.h,Z);var Et=Z,ce=T.O;ce&&(Et.H=ce),Et.D&&(Wn(Et),$n(Et)),T.g=Z}else Eu(T);p.i.length>0&&li(p)}else jt[0]!="stop"&&jt[0]!="close"||ui(p,7);else p.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?ui(p,7):Kr(p):jt[0]!="noop"&&p.l&&p.l.qa(jt),p.A=0)}}Yn(4)}catch{}}var ye=class{constructor(o,m){this.g=o,this.map=m}};function Lr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Br(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function ni(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function jr(o,m){o.g?o.g.add(m):o.h=m}function qr(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Lr.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pr(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return Q(o.i)}var mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rs(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let U,q=null;T>=0?(U=o[p].substring(0,T),q=o[p].substring(T+1)):U=o[p],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function un(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof un?(this.l=o.l,Oe(this,o.j),this.o=o.o,this.g=o.g,Qi(this,o.u),this.h=o.h,Hr(this,_u(o.i)),this.m=o.m):o&&(m=String(o).match(mu))?(this.l=!1,Oe(this,m[1]||"",!0),this.o=ii(m[2]||""),this.g=ii(m[3]||"",!0),Qi(this,m[4]),this.h=ii(m[5]||"",!0),Hr(this,m[6]||"",!0),this.m=ii(m[7]||"")):(this.l=!1,this.i=new Yi(null,this.l))}un.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(Ha(m,Cs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ha(m,Cs,!0),"@"),o.push(Ei(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ha(p,p.charAt(0)=="/"?kr:gu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ha(p,pu)),o.join("")},un.prototype.resolve=function(o){const m=_e(this);let p=!!o.j;p?Oe(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)Qi(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let Z=0;Z<U.length;){const Et=U[Z++];Et=="."?T&&Z==U.length&&q.push(""):Et==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&Z==U.length&&q.push("")):(q.push(Et),T=!0)}T=q.join("/")}else T=U}return p?m.h=T:p=o.i.toString()!=="",p?Hr(m,_u(o.i)):p=!!o.m,p&&(m.m=o.m),m};function _e(o){return new un(o)}function Oe(o,m,p){o.j=p?ii(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Qi(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function Hr(o,m,p){m instanceof Yi?(o.i=m,Ds(o.i,o.l)):(p||(m=Ha(m,Fi)),o.i=new Yi(m,o.l))}function kt(o,m,p){o.i.set(m,p)}function Pa(o){return kt(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function ii(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ha(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,$e),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function $e(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Cs=/[#\/\?@]/g,gu=/[#\?:]/g,kr=/[#\?]/g,Fi=/[#\?@]/g,pu=/#/g;function Yi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function We(o){o.g||(o.g=new Map,o.h=0,o.i&&Rs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Yi.prototype,r.add=function(o,m){We(this),this.i=null,o=Xi(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function yu(o,m){We(o),m=Xi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function Gr(o,m){return We(o),m=Xi(o,m),o.g.has(m)}r.forEach=function(o,m){We(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)};function Qr(o,m){We(o);let p=[];if(typeof m=="string")Gr(o,m)&&(p=p.concat(o.g.get(Xi(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return We(this),this.i=null,o=Xi(this,o),Gr(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=Qr(this,o),o.length>0?String(o[0]):m):m};function ws(o,m,p){yu(o,m),p.length>0&&(o.i=null,o.g.set(Xi(o,m),Q(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const U=Ei(p);p=Qr(this,p);for(let q=0;q<p.length;q++){let Z=U;p[q]!==""&&(Z+="="+Ei(p[q])),o.push(Z)}}return this.i=o.join("&")};function _u(o){const m=new Yi;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function Xi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Ds(o,m){m&&!o.j&&(We(o),o.i=null,o.g.forEach(function(p,T){const U=T.toLowerCase();T!=U&&(yu(this,T),ws(this,U,p))},o)),o.j=m}function Un(o,m){const p=new Mn;if(d.Image){const T=new Image;T.onload=A(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=A(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(_n,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Fr(o,m){const p=new Mn,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Ki(){this.g=new su}function ai(o){this.i=o.Sb||null,this.h=o.ab||!1}b(ai,ru),ai.prototype.g=function(){return new ka(this.i,this.h)};function ka(o,m){me.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ka,me),r=ka.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,Ln(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vs(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vs(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Zi(this):Ln(this),this.readyState==3&&Vs(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,Zi(this))},r.Na=function(o){this.g&&(this.response=o,Zi(this))},r.ga=function(){this.g&&Zi(this)};function Zi(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Ln(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Ln(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function vn(o){let m="";return Ut(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ga(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=vn(p),typeof o=="string"?p!=null&&Ei(p):kt(o,m,p))}function Yt(o){me.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,me);var si=/^https?$/i,Yr=["POST","PUT"];r=Yt.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ur.g(),this.g.onreadystatechange=z(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){Qa(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(Yr,m,void 0)>=0)||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Z]of p)this.g.setRequestHeader(q,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(q){Qa(this,q)}};function Qa(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,Xr(o),Ti(o)}function Xr(o){o.A||(o.A=!0,De(o,"complete"),De(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,De(this,"complete"),De(this,"abort"),Ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Fa(this):this.Xa())},r.Xa=function(){Fa(this)};function Fa(o){if(o.h&&typeof f<"u"){if(o.v&&Bn(o)==4)setTimeout(o.Ca.bind(o),0);else if(De(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const q=o.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=q===0){let Z=String(o.D).match(mu)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),T=!si.test(Z?Z.toLowerCase():"")}p=T}if(p)De(o,"complete"),De(o,"success");else{o.o=6;try{var U=Bn(o)>2?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.ca()+"]",Xr(o)}}finally{Ti(o)}}}}function Ti(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||De(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}r.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Rc(m)}};function Le(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ai(o){const m={};o=(o.g&&Bn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(R(o[T]))continue;var p=hu(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ri(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ji(o){this.za=0,this.i=[],this.j=new Mn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ri("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ri("baseRetryDelayMs",5e3,o),this.Za=ri("retryDelaySeedMs",1e4,o),this.Ta=ri("forwardChannelMaxRetries",2,o),this.va=ri("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Lr(o&&o.concurrentRequestLimit),this.Ba=new Ki,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ji.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){ge(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Ru(this,null,this.W),li(this)};function Kr(o){if(Is(o),o.I==3){var m=o.V++,p=_e(o.J);if(kt(p,"SID",o.M),kt(p,"RID",m),kt(p,"TYPE","terminate"),Ya(o,p),m=new xn(o,o.j,m),m.M=2,m.A=Pa(_e(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),$n(m)}bu(o)}function $i(o){o.g&&(Jr(o),o.g.cancel(),o.g=null)}function Is(o){$i(o),o.v&&(d.clearTimeout(o.v),o.v=null),Os(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function li(o){if(!Br(o.h)&&!o.m){o.m=!0;var m=o.Ea;Ft||S(),It||(Ft(),It=!0),D.add(m,o),o.D=0}}function Ns(o,m){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Kn(_(o.Ea,o,m),Su(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const U=new xn(this,this.j,o);let q=this.o;if(this.U&&(q?(q=N(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=vu(this,U,m),p=_e(this.J),kt(p,"RID",o),kt(p,"CVER",22),this.G&&kt(p,"X-HTTP-Session-Id",this.G),Ya(this,p),q&&(this.R?m="headers="+Ei(vn(q))+"&"+m:this.u&&Ga(p,this.u,q)),jr(this.h,U),this.Ra&&kt(p,"TYPE","init"),this.S?(kt(p,"$req",m),kt(p,"SID","null"),U.U=!0,Jn(U,p,null)):Jn(U,p,m),this.I=2}}else this.I==3&&(o?Zr(this,o):this.i.length==0||Br(this.h)||Zr(this))};function Zr(o,m){var p;m?p=m.l:p=o.V++;const T=_e(o.J);kt(T,"SID",o.M),kt(T,"RID",p),kt(T,"AID",o.K),Ya(o,T),o.u&&o.o&&Ga(T,o.u,o.o),p=new xn(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=vu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),jr(o.h,p),Jn(p,T,m)}function Ya(o,m){o.H&&Ut(o.H,function(p,T){kt(m,T,p)}),o.l&&Ut({},function(p,T){kt(m,T,p)})}function vu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var U=o.i;let Et=-1;for(;;){const ce=["count="+p];Et==-1?p>0?(Et=U[0].g,ce.push("ofs="+Et)):Et=0:ce.push("ofs="+Et);let jt=!0;for(let ae=0;ae<p;ae++){var q=U[ae].g;const En=U[ae].map;if(q-=Et,q<0)Et=Math.max(0,U[ae].g-100),jt=!1;else try{q="req"+q+"_"||"";try{var Z=En instanceof Map?En:Object.entries(En);for(const[oi,jn]of Z){let qn=jn;y(jn)&&(qn=Gi(jn)),ce.push(q+oi+"="+encodeURIComponent(qn))}}catch(oi){throw ce.push(q+"type="+encodeURIComponent("_badmap")),oi}}catch{T&&T(En)}}if(jt){Z=ce.join("&");break t}}Z=void 0}return o=o.i.splice(0,p),m.G=o,Z}function Eu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Ft||S(),It||(Ft(),It=!0),D.add(m,o),o.A=0}}function Xa(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Kn(_(o.Da,o),Su(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Kn(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),$i(this),Tu(this))};function Jr(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Tu(o){o.g=new xn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=_e(o.na);kt(m,"RID","rpc"),kt(m,"SID",o.M),kt(m,"AID",o.K),kt(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&kt(m,"TO",o.ia),kt(m,"TYPE","xmlhttp"),Ya(o,m),o.u&&o.o&&Ga(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=Pa(_e(m)),p.u=null,p.R=!0,Ss(p,o)}r.Va=function(){this.C!=null&&(this.C=null,$i(this),Xa(this),ge(19))};function Os(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Au(o,m){var p=null;if(o.g==m){Os(o),Jr(o),o.g=null;var T=2}else if(ni(o.h,m))p=m.G,qr(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var U=o.D;T=As(),De(T,new Xn(T,p)),li(o)}else Eu(o);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&Ns(o,m)||T==2&&Xa(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),U){case 1:ui(o,5);break;case 4:ui(o,10);break;case 3:ui(o,6);break;default:ui(o,2)}}}function Su(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function ui(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const U=!T;T=new un(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Oe(T,"https"),Pa(T),U?Un(T.toString(),p):Fr(T.toString(),p)}else ge(2);o.I=0,o.l&&o.l.pa(m),bu(o),Is(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function bu(o){if(o.I=0,o.ja=[],o.l){const m=Pr(o.h);(m.length!=0||o.i.length!=0)&&($(o.ja,m),$(o.ja,o.i),o.h.i.length=0,Q(o.i),o.i.length=0),o.l.oa()}}function Ru(o,m,p){var T=p instanceof un?_e(p):new un(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qi(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new un(null);T&&Oe(q,T),m&&(q.g=m),U&&Qi(q,U),p&&(q.h=p),T=q}return p=o.G,m=o.wa,p&&m&&kt(T,p,m),kt(T,"VER",o.ka),Ya(o,T),T}function Cu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new Yt(new ai({ab:p})):new Yt(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wi(){}Wi.prototype.g=function(o,m){return new Ze(o,m)};function Ze(o,m){me.call(this),this.g=new Ji(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!R(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Si(this)}b(Ze,me),Ze.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){Kr(this.g)},Ze.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=Gi(o),o=p);m.i.push(new ye(m.Ya++,o)),m.I==3&&li(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,Kr(this.g),delete this.g,Ze.Z.N.call(this)};function Du(o){Ue.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}b(Du,Ue);function Vu(){pn.call(this),this.status=1}b(Vu,pn);function Si(o){this.g=o}b(Si,wu),Si.prototype.ra=function(){De(this.g,"a")},Si.prototype.qa=function(o){De(this.g,new Du(o))},Si.prototype.pa=function(o){De(this.g,new Vu)},Si.prototype.oa=function(){De(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Q_=function(){return new Wi},G_=function(){return As()},k_=oe,kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Po=ja,zr.COMPLETE="complete",H_=zr,lu.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",me.prototype.listen=me.prototype.J,Ul=lu,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,P_=Yt}).apply(typeof xo<"u"?xo:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Ny="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new x_("@firebase/firestore");function or(){return ds.logLevel}function it(r,...e){if(ds.logLevel<=zt.DEBUG){const i=e.map(cd);ds.debug(`Firestore (${Rr}): ${r}`,...i)}}function Pi(r,...e){if(ds.logLevel<=zt.ERROR){const i=e.map(cd);ds.error(`Firestore (${Rr}): ${r}`,...i)}}function _r(r,...e){if(ds.logLevel<=zt.WARN){const i=e.map(cd);ds.warn(`Firestore (${Rr}): ${r}`,...i)}}function cd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,F_(r,s,i)}function F_(r,e,i){let s=`FIRESTORE (${Rr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Pi(s),new Error(s)}function Pt(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||F_(e,u,s)}function vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends br{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class G1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Q1{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Pt(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ca,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ca)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Pt(typeof s.accessToken=="string",31837,{l:s}),new Y_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class F1{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y1{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new F1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,D1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Pt(this.o===void 0,3512);const s=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const u=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Oy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Pt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Oy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=K1(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%62))}return s}}function Dt(r,e){return r<e?-1:r>e?1:0}function Gf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),f=e.charAt(s);if(u!==f)return Mf(u)===Mf(f)?Dt(u,f):Mf(u)?1:-1}return Dt(r.length,e.length)}const Z1=55296,J1=57343;function Mf(r){const e=r.charCodeAt(0);return e>=Z1&&e<=J1}function vr(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__name__";class mi{constructor(e,i,s){i===void 0?i=0:i>e.length&&dt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&dt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=mi.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Dt(e.length,i.length)}static compareSegments(e,i){const s=mi.isNumericId(e),u=mi.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?mi.extractNumericId(e).compare(mi.extractNumericId(i)):Gf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ra.fromString(e.substring(4,e.length-2))}}class $t extends mi{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const $1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends mi{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return $1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===My}static keyField(){return new ke([My])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(f(),u++)}if(f(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct($t.fromString(e))}static fromName(e){return new ct($t.fromString(e).popFirst(5))}static empty(){return new ct($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new $t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(r,e,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function W1(r,e,i,s){if(e===!0&&s===!0)throw new at(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function xy(r){if(!ct.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zy(r){if(ct.isDocumentKey(r))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function K_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function cc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":dt(12329,{type:typeof r})}function Jo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(r);throw new at(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function $l(r,e){if(!K_(r))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-62135596800,Ly=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(e){return ee.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Ly);return new ee(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Uy)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ly}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,ee._jsonSchema))return new ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Re("string",ee._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new ee(0,0))}static max(){return new yt(new ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function tA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(s===1e9?new ee(i+1,0):new ee(i,s));return new Da(u,ct.empty(),e)}function eA(r){return new Da(r.readTime,r.key,Fl)}class Da{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Da(yt.min(),ct.empty(),Fl)}static max(){return new Da(yt.max(),ct.empty(),Fl)}}function nA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(r.documentKey,e.documentKey),i!==0?i:Dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cr(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==iA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new K(((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):K.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):K.reject(i)}static resolve(e){return new K(((i,s)=>{i(e)}))}static reject(e){return new K(((i,s)=>{s(e)}))}static waitFor(e){return new K(((i,s)=>{let u=0,f=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++f,d&&f===u&&i()}),(v=>s(v)))})),d=!0,f===u&&i()}))}static or(e){let i=K.resolve(!1);for(const s of e)i=i.next((u=>u?K.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,f)=>{s.push(i.call(this,u,f))})),this.waitFor(s)}static mapArray(e,i){return new K(((s,u)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===f&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new K(((s,u)=>{const f=()=>{e()===!0?i().next((()=>{f()}),u):s()};f()}))}}function sA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=-1;function fc(r){return r==null}function $o(r){return r===0&&1/r==-1/0}function rA(r){return typeof r=="number"&&Number.isInteger(r)&&!$o(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="";function lA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=By(e)),e=uA(r.get(i),e);return By(e)}function uA(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const f=r.charAt(u);switch(f){case"\0":i+="";break;case Z_:i+="";break;default:i+=f}}return i}function By(r){return r+Z_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function gs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function J_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||He.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,He.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zo(this.root,e,this.comparator,!1)}getReverseIterator(){return new zo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zo(this.root,e,this.comparator,!0)}}class zo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class He{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??He.RED,this.left=u??He.EMPTY,this.right=f??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new He(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return He.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw dt(27949);return e+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(e,i,s,u,f){return this}insert(e,i,s){return new He(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new qy(this.data.getIterator())}getIteratorFrom(e){return new qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new Gn([])}unionWith(e){let i=new Ie(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return vr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new $_("Invalid base64 string: "+f):f}})(e);return new Ge(i)}static fromUint8Array(e){const i=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(e);return new Ge(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(r){if(Pt(!!r,39018),typeof r=="string"){let e=0;const i=oA.exec(r);if(Pt(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ia(r){return typeof r=="string"?Ge.fromBase64String(r):Ge.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="server_timestamp",tv="__type__",ev="__previous_value__",nv="__local_write_time__";function dd(r){return(r?.mapValue?.fields||{})[tv]?.stringValue===W_}function dc(r){const e=r.mapValue.fields[ev];return dd(e)?dc(e):e}function Yl(r){const e=Va(r.mapValue.fields[nv].timestampValue);return new ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i,s,u,f,d,y,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Wo="(default)";class Xl{constructor(e,i){this.projectId=e,this.database=i||Wo}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===Wo}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="__type__",hA="__max__",Uo={mapValue:{}},av="__vector__",tc="value";function Na(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dd(r)?4:dA(r)?9007199254740991:fA(r)?10:11:dt(28295,{value:r})}function vi(r,e){if(r===e)return!0;const i=Na(r);if(i!==Na(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Va(u.timestampValue),y=Va(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,f){return Ia(u.bytesValue).isEqual(Ia(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,f){return de(u.geoPointValue.latitude)===de(f.geoPointValue.latitude)&&de(u.geoPointValue.longitude)===de(f.geoPointValue.longitude)})(r,e);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return de(u.integerValue)===de(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=de(u.doubleValue),y=de(f.doubleValue);return d===y?$o(d)===$o(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return vr(r.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},y=f.mapValue.fields||{};if(jy(d)!==jy(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!vi(d[v],y[v])))return!1;return!0})(r,e);default:return dt(52216,{left:r})}}function Kl(r,e){return(r.values||[]).find((i=>vi(i,e)))!==void 0}function Er(r,e){if(r===e)return 0;const i=Na(r),s=Na(e);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=de(f.integerValue||f.doubleValue),v=de(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return Py(r.timestampValue,e.timestampValue);case 4:return Py(Yl(r),Yl(e));case 5:return Gf(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=Ia(f),v=Ia(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Dt(y[_],v[_]);if(A!==0)return A}return Dt(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=Dt(de(f.latitude),de(d.latitude));return y!==0?y:Dt(de(f.longitude),de(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Hy(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[tc]?.arrayValue,A=v[tc]?.arrayValue,b=Dt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:Hy(_,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Uo.mapValue&&d===Uo.mapValue)return 0;if(f===Uo.mapValue)return 1;if(d===Uo.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let b=0;b<v.length&&b<A.length;++b){const z=Gf(v[b],A[b]);if(z!==0)return z;const Q=Er(y[v[b]],_[A[b]]);if(Q!==0)return Q}return Dt(v.length,A.length)})(r.mapValue,e.mapValue);default:throw dt(23264,{he:i})}}function Py(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Dt(r,e);const i=Va(r),s=Va(e),u=Dt(i.seconds,s.seconds);return u!==0?u:Dt(i.nanos,s.nanos)}function Hy(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Er(i[u],s[u]);if(f)return f}return Dt(i.length,s.length)}function Tr(r){return Qf(r)}function Qf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Va(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ia(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ct.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Qf(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Qf(i.fields[d])}`;return u+"}"})(r.mapValue):dt(61005,{value:r})}function Ho(r){switch(Na(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(r);return e?16+Ho(e):16;case 5:return 2*r.stringValue.length;case 6:return Ia(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,f)=>u+Ho(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return gs(s.fields,((f,d)=>{u+=f.length+Ho(d)})),u})(r.mapValue);default:throw dt(13486,{value:r})}}function ky(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ff(r){return!!r&&"integerValue"in r}function md(r){return!!r&&"arrayValue"in r}function Gy(r){return!!r&&"nullValue"in r}function Qy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ko(r){return!!r&&"mapValue"in r}function fA(r){return(r?.mapValue?.fields||{})[iv]?.stringValue===av}function ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ql(r.arrayValue.values[i]);return e}return{...r}}function dA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ko(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(i)}setAll(e){let i=ke.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=ql(d):u.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());ko(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];ko(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){gs(i,((u,f)=>e[u]=f));for(const u of s)delete e[u]}clone(){return new In(ql(this.value))}}function sv(r){const e=[];return gs(r.fields,((i,s)=>{const u=new ke([i]);if(ko(s)){const f=sv(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,u,f,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Xe(e,0,yt.min(),yt.min(),yt.min(),In.empty(),0)}static newFoundDocument(e,i,s,u){return new Xe(e,1,i,yt.min(),s,u,0)}static newNoDocument(e,i){return new Xe(e,2,i,yt.min(),yt.min(),In.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,yt.min(),yt.min(),In.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.position=e,this.inclusive=i}}function Fy(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const f=e[u],d=r.position[u];if(f.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Er(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function Yy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!vi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function mA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{}class be extends rv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new pA(e,i,s):i==="array-contains"?new vA(e,s):i==="in"?new EA(e,s):i==="not-in"?new TA(e,s):i==="array-contains-any"?new AA(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new yA(e,s):new _A(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Er(i,this.value)):i!==null&&Na(this.value)===Na(i)&&this.matchesComparison(Er(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends rv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qn(e,i)}matches(e){return lv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lv(r){return r.op==="and"}function uv(r){return gA(r)&&lv(r)}function gA(r){for(const e of r.filters)if(e instanceof Qn)return!1;return!0}function Yf(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Tr(r.value);if(uv(r))return r.filters.map((e=>Yf(e))).join(",");{const e=r.filters.map((i=>Yf(i))).join(",");return`${r.op}(${e})`}}function ov(r,e){return r instanceof be?(function(s,u){return u instanceof be&&s.op===u.op&&s.field.isEqual(u.field)&&vi(s.value,u.value)})(r,e):r instanceof Qn?(function(s,u){return u instanceof Qn&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((f,d,y)=>f&&ov(d,u.filters[y])),!0):!1})(r,e):void dt(19439)}function cv(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Tr(i.value)}`})(r):r instanceof Qn?(function(i){return i.op.toString()+" {"+i.getFilters().map(cv).join(" ,")+"}"})(r):"Filter"}class pA extends be{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class yA extends be{constructor(e,i){super(e,"in",i),this.keys=hv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class _A extends be{constructor(e,i){super(e,"not-in",i),this.keys=hv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function hv(r,e){return(e.arrayValue?.values||[]).map((i=>ct.fromName(i.referenceValue)))}class vA extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return md(i)&&Kl(i.arrayValue,this.value)}}class EA extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class TA extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Kl(this.value.arrayValue,i)}}class AA extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!md(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Kl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i=null,s=[],u=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function Xy(r,e=null,i=[],s=[],u=null,f=null,d=null){return new SA(r,e,i,s,u,f,d)}function gd(r){const e=vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Yf(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Tr(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Tr(s))).join(",")),e.Te=i}return e.Te}function pd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!ov(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Yy(r.startAt,e.startAt)&&Yy(r.endAt,e.endAt)}function Xf(r){return ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,i=null,s=[],u=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bA(r,e,i,s,u,f,d,y){return new Wl(r,e,i,s,u,f,d,y)}function fv(r){return new Wl(r)}function Ky(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dv(r){return r.collectionGroup!==null}function Pl(r){const e=vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Ie(ke.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new nc(f,s))})),i.has(ke.keyField().canonicalString())||e.Ie.push(new nc(ke.keyField(),s))}return e.Ie}function gi(r){const e=vt(r);return e.Ee||(e.Ee=RA(e,Pl(r))),e.Ee}function RA(r,e){if(r.limitType==="F")return Xy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new nc(u.field,f)}));const i=r.endAt?new ec(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ec(r.startAt.position,r.startAt.inclusive):null;return Xy(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Kf(r,e){const i=r.filters.concat([e]);return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Zf(r,e,i){return new Wl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function mc(r,e){return pd(gi(r),gi(e))&&r.limitType===e.limitType}function mv(r){return`${gd(gi(r))}|lt:${r.limitType}`}function cr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>cv(u))).join(", ")}]`),fc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Tr(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Tr(u))).join(",")),`Target(${s})`})(gi(r))}; limitType=${r.limitType})`}function gc(r,e){return e.isFoundDocument()&&(function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):ct.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,u){for(const f of Pl(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=Fy(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,Pl(s),u)||s.endAt&&!(function(d,y,v){const _=Fy(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,Pl(s),u))})(r,e)}function CA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gv(r){return(e,i)=>{let s=!1;for(const u of Pl(r)){const f=wA(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function wA(r,e,i){const s=r.field.isKeyField()?ct.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?Er(v,_):dt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((i,s)=>{for(const[u,f]of s)e(u,f)}))}isEmpty(){return J_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new re(ct.comparator);function Hi(){return DA}const pv=new re(ct.comparator);function Ll(...r){let e=pv;for(const i of r)e=e.insert(i.key,i);return e}function yv(r){let e=pv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function fs(){return Hl()}function _v(){return Hl()}function Hl(){return new ps((r=>r.toString()),((r,e)=>r.isEqual(e)))}const VA=new re(ct.comparator),IA=new Ie(ct.comparator);function Vt(...r){let e=IA;for(const i of r)e=e.add(i);return e}const NA=new Ie(Dt);function OA(){return NA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$o(e)?"-0":e}}function vv(r){return{integerValue:""+r}}function MA(r,e){return rA(e)?vv(e):yd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function xA(r,e,i){return r instanceof ic?(function(u,f){const d={fields:{[tv]:{stringValue:W_},[nv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&dd(f)&&(f=dc(f)),f&&(d.fields[ev]=f),{mapValue:d}})(i,e):r instanceof Zl?Tv(r,e):r instanceof Jl?Av(r,e):(function(u,f){const d=Ev(u,f),y=Zy(d)+Zy(u.Ae);return Ff(d)&&Ff(u.Ae)?vv(y):yd(u.serializer,y)})(r,e)}function zA(r,e,i){return r instanceof Zl?Tv(r,e):r instanceof Jl?Av(r,e):i}function Ev(r,e){return r instanceof ac?(function(s){return Ff(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class ic extends pc{}class Zl extends pc{constructor(e){super(),this.elements=e}}function Tv(r,e){const i=Sv(e);for(const s of r.elements)i.some((u=>vi(u,s)))||i.push(s);return{arrayValue:{values:i}}}class Jl extends pc{constructor(e){super(),this.elements=e}}function Av(r,e){let i=Sv(e);for(const s of r.elements)i=i.filter((u=>!vi(u,s)));return{arrayValue:{values:i}}}class ac extends pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Zy(r){return de(r.integerValue||r.doubleValue)}function Sv(r){return md(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function UA(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof Zl&&u instanceof Zl||s instanceof Jl&&u instanceof Jl?vr(s.elements,u.elements,vi):s instanceof ac&&u instanceof ac?vi(s.Ae,u.Ae):s instanceof ic&&u instanceof ic})(r.transform,e.transform)}class LA{constructor(e,i){this.version=e,this.transformResults=i}}class ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Go(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yc{}function bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Cv(r.key,ji.none()):new tu(r.key,r.data,ji.none());{const i=r.data,s=In.empty();let u=new Ie(ke.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new ys(r.key,s,new Gn(u.toArray()),ji.none())}}function BA(r,e,i){r instanceof tu?(function(u,f,d){const y=u.value.clone(),v=$y(u.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof ys?(function(u,f,d){if(!Go(u.precondition,f))return void f.convertToUnknownDocument(d.version);const y=$y(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Rv(u)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(r,e,i,s){return r instanceof tu?(function(f,d,y,v){if(!Go(f.precondition,d))return y;const _=f.value.clone(),A=Wy(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof ys?(function(f,d,y,v){if(!Go(f.precondition,d))return y;const _=Wy(f.fieldTransforms,v,d),A=d.data;return A.setAll(Rv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(f,d,y){return Go(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function jA(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),f=Ev(s.transform,u||null);f!=null&&(i===null&&(i=In.empty()),i.set(s.field,f))}return i||null}function Jy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&vr(s,u,((f,d)=>UA(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends yc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ys extends yc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Rv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function $y(r,e,i){const s=new Map;Pt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let u=0;u<i.length;u++){const f=r[u],d=f.transform,y=e.data.field(f.field);s.set(f.field,zA(d,y,i[u]))}return s}function Wy(r,e,i){const s=new Map;for(const u of r){const f=u.transform,d=i.data.field(u.field);s.set(u.field,xA(f,d,e))}return s}class Cv extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qA extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&BA(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=kl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=_v();return this.mutations.forEach((u=>{const f=e.get(u.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(u.key)?null:y;const v=bv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(yt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&vr(this.mutations,e.mutations,((i,s)=>Jy(i,s)))&&vr(this.baseMutations,e.baseMutations,((i,s)=>Jy(i,s)))}}class _d{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){Pt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return VA})();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new _d(e,i,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,xt;function GA(r){switch(r){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:r})}}function wv(r){if(r===void 0)return Pi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Se.OK:return X.OK;case Se.CANCELLED:return X.CANCELLED;case Se.UNKNOWN:return X.UNKNOWN;case Se.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Se.INTERNAL:return X.INTERNAL;case Se.UNAVAILABLE:return X.UNAVAILABLE;case Se.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Se.NOT_FOUND:return X.NOT_FOUND;case Se.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Se.ABORTED:return X.ABORTED;case Se.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Se.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:r})}}(xt=Se||(Se={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=new Ra([4294967295,4294967295],0);function t_(r){const e=QA().encode(r),i=new q_;return i.update(e),new Uint8Array(i.digest())}function e_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ra([i,s],0),new Ra([u,f],0)]}class vd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Bl(`Invalid padding: ${i}`);if(s<0)throw new Bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ra.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ra.fromNumber(s)));return u.compare(FA)===1&&(u=new Ra([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=t_(e),[s,u]=e_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new vd(f,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=t_(e),[s,u]=e_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,s,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new _c(yt.min(),u,new re(Dt),Hi(),Vt())}}class eu{constructor(e,i,s,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new eu(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,i,s,u){this.be=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Dv{constructor(e,i){this.targetId=e,this.Ce=i}}class Vv{constructor(e,i,s=Ge.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class n_{constructor(){this.ve=0,this.Fe=i_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),s=Vt();return this.Fe.forEach(((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:dt(38017,{changeType:f})}})),new eu(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=i_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class YA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=Lo(),this.He=Lo(),this.Ye=new re(Dt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:dt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const f=u.target;if(Xf(f))if(s===0){const d=new ct(f.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else Pt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,y;try{d=Ia(s).toUint8Array()}catch(v){if(v instanceof $_)return _r("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new vd(d,u,f)}catch(v){return _r(v instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&Xf(y.target)){const v=new ct(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.qe())}}));let s=Vt();this.He.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const u=new _c(e,i,this.Ye,this.je,s);return this.je=Hi(),this.Je=Lo(),this.He=Lo(),this.Ye=new re(Dt),u}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new n_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ie(Dt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ie(Dt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new n_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Lo(){return new re(ct.comparator)}function i_(){return new re(ct.comparator)}const XA={asc:"ASCENDING",desc:"DESCENDING"},KA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZA={and:"AND",or:"OR"};class JA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jf(r,e){return r.useProto3Json||fc(e)?e:{value:e}}function sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Iv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $A(r,e){return sc(r,e.toTimestamp())}function pi(r){return Pt(!!r,49232),yt.fromTimestamp((function(i){const s=Va(i);return new ee(s.seconds,s.nanos)})(r))}function Ed(r,e){return $f(r,e).canonicalString()}function $f(r,e){const i=(function(u){return new $t(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Nv(r){const e=$t.fromString(r);return Pt(Uv(e),10190,{key:e.toString()}),e}function Wf(r,e){return Ed(r.databaseId,e.path)}function xf(r,e){const i=Nv(e);if(i.get(1)!==r.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ct(Mv(i))}function Ov(r,e){return Ed(r.databaseId,e)}function WA(r){const e=Nv(r);return e.length===4?$t.emptyPath():Mv(e)}function td(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Mv(r){return Pt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function a_(r,e,i){return{name:Wf(r,e),fields:i.value.mapValue.fields}}function tS(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(Pt(A===void 0||typeof A=="string",58123),Ge.fromBase64String(A||"")):(Pt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ge.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?X.UNKNOWN:wv(_.code);return new at(A,_.message||"")})(d);i=new Vv(s,u,f,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=xf(r,s.document.name),f=pi(s.document.updateTime),d=s.document.createTime?pi(s.document.createTime):yt.min(),y=new In({mapValue:{fields:s.document.fields}}),v=Xe.newFoundDocument(u,f,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Qo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=xf(r,s.document),f=s.readTime?pi(s.readTime):yt.min(),d=Xe.newNoDocument(u,f),y=s.removedTargetIds||[];i=new Qo([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=xf(r,s.document),f=s.removedTargetIds||[];i=new Qo([],f,u,null)}else{if(!("filter"in e))return dt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new kA(u,f),y=s.targetId;i=new Dv(y,d)}}return i}function eS(r,e){let i;if(e instanceof tu)i={update:a_(r,e.key,e.value)};else if(e instanceof Cv)i={delete:Wf(r,e.key)};else if(e instanceof ys)i={update:a_(r,e.key,e.data),updateMask:cS(e.fieldMask)};else{if(!(e instanceof qA))return dt(16599,{Vt:e.type});i={verify:Wf(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const y=d.transform;if(y instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof ac)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw dt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:$A(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:dt(27497)})(r,e.precondition)),i}function nS(r,e){return r&&r.length>0?(Pt(e!==void 0,14353),r.map((i=>(function(u,f){let d=u.updateTime?pi(u.updateTime):pi(f);return d.isEqual(yt.min())&&(d=pi(f)),new LA(d,u.transformResults||[])})(i,e)))):[]}function iS(r,e){return{documents:[Ov(r,e.path)]}}function aS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ov(r,u);const f=(function(_){if(_.length!==0)return zv(Qn.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(z){return{field:hr(z.field),direction:lS(z.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=Jf(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function sS(r){let e=WA(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Pt(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(b){const z=xv(b);return z instanceof Qn&&uv(z)?z.getFilters():[z]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((z=>(function($){return new nc(fr($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(z)))})(i.orderBy));let y=null;i.limit&&(y=(function(b){let z;return z=typeof b=="object"?b.value:b,fc(z)?null:z})(i.limit));let v=null;i.startAt&&(v=(function(b){const z=!!b.before,Q=b.values||[];return new ec(Q,z)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const z=!b.before,Q=b.values||[];return new ec(Q,z)})(i.endAt)),bA(e,u,d,f,y,"F",v,_)}function rS(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function xv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=fr(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=fr(i.unaryFilter.field);return be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=fr(i.unaryFilter.field);return be.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fr(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return be.create(fr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Qn.create(i.compositeFilter.filters.map((s=>xv(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(r):dt(30097,{filter:r})}function lS(r){return XA[r]}function uS(r){return KA[r]}function oS(r){return ZA[r]}function hr(r){return{fieldPath:r.canonicalString()}}function fr(r){return ke.fromServerFormat(r.fieldPath)}function zv(r){return r instanceof be?(function(i){if(i.op==="=="){if(Qy(i.value))return{unaryFilter:{field:hr(i.field),op:"IS_NAN"}};if(Gy(i.value))return{unaryFilter:{field:hr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Qy(i.value))return{unaryFilter:{field:hr(i.field),op:"IS_NOT_NAN"}};if(Gy(i.value))return{unaryFilter:{field:hr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hr(i.field),op:uS(i.op),value:i.value}}})(r):r instanceof Qn?(function(i){const s=i.getFilters().map((u=>zv(u)));return s.length===1?s[0]:{compositeFilter:{op:oS(i.op),filters:s}}})(r):dt(54877,{filter:r})}function cS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Uv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,i,s,u,f=yt.min(),d=yt.min(),y=Ge.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.yt=e}}function fS(r){const e=sS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.Cn=new mS}addToCollectionParentIndex(e,i){return this.Cn.add(i),K.resolve()}getCollectionParents(e,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return K.resolve()}deleteFieldIndex(e,i){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,i){return K.resolve()}getDocumentsMatchingTarget(e,i){return K.resolve(null)}getIndexType(e,i){return K.resolve(0)}getFieldIndexes(e,i){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,i){return K.resolve(Da.min())}getMinOffsetFromCollectionGroup(e,i){return K.resolve(Da.min())}updateCollectionGroup(e,i,s){return K.resolve()}updateIndexEntries(e,i){return K.resolve()}}class mS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new Ie($t.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new Ie($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lv=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(Lv,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ar(0)}static cr(){return new Ar(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="LruGarbageCollector",gS=1048576;function l_([r,e],[i,s]){const u=Dt(r,i);return u===0?Dt(e,s):u}class pS{constructor(e){this.Ir=e,this.buffer=new Ie(l_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();l_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){it(r_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wr(i)?it(r_,"Ignoring IndexedDB error during garbage collection: ",i):await Cr(i)}await this.Vr(3e5)}))}}class _S{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return K.resolve(hc.ce);const s=new pS(i);return this.mr.forEachTarget(e,(u=>s.Ar(u.sequenceNumber))).next((()=>this.mr.pr(e,(u=>s.Ar(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(s_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),s_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,u,f,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),u=this.params.maximumSequenceNumbersToCollect):u=b,d=Date.now(),this.nthSequenceNumber(e,u)))).next((b=>(s=b,y=Date.now(),this.removeTargets(e,s,i)))).next((b=>(f=b,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(_=Date.now(),or()<=zt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${b} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:b}))))}}function vS(r,e){return new _S(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.changes=new ps((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?K.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&kl(s.mutation,u,Gn.empty(),ee.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Vt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Vt()){const u=fs();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((f=>{let d=Ll();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=fs();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Vt())))}populateOverlays(e,i,s){const u=[];return s.forEach((f=>{i.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(e,u).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let f=Hi();const d=Hl(),y=(function(){return Hl()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof ys)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),kl(A.mutation,_,A.mutation.getFieldMask(),ee.now())):d.set(_.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new TS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=Hl();let u=new re(((d,y)=>d-y)),f=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||Gn.empty();A=y.applyToLocalView(_,A),s.set(v,A);const b=(u.get(y.batchId)||Vt()).add(v);u=u.insert(y.batchId,b)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,b=_v();A.forEach((z=>{if(!f.has(z)){const Q=bv(i.get(z),s.get(z));Q!==null&&b.set(z,Q),f=f.add(z)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,b))}return K.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return(function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):K.resolve(fs());let y=Fl,v=f;return d.next((_=>K.forEach(_,((A,b)=>(y<b.largestBatchId&&(y=b.largestBatchId),f.get(A)?K.resolve():this.remoteDocumentCache.getEntry(e,A).next((z=>{v=v.insert(A,z)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Vt()))).next((A=>({batchId:y,changes:yv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next((s=>{let u=Ll();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,f).next((y=>K.forEach(y,(v=>{const _=(function(b,z){return new Wl(z,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((b,z)=>{d=d.insert(b,z)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let y=Ll();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&kl(A.mutation,_,Gn.empty(),ee.now()),gc(i,_)&&(y=y.insert(v,_))})),y}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:pi(u.createTime)}})(i)),K.resolve()}getNamedQuery(e,i){return K.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:fS(u.bundledQuery),readTime:pi(u.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.overlays=new re(ct.comparator),this.qr=new Map}getOverlay(e,i){return K.resolve(this.overlays.get(i))}getOverlays(e,i){const s=fs();return K.forEach(i,(u=>this.getOverlay(e,u).next((f=>{f!==null&&s.set(u,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,f)=>{this.St(e,i,f)})),K.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.qr.get(s);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.qr.delete(s)),K.resolve()}getOverlaysForCollection(e,i,s){const u=fs(),f=i.length+1,d=new ct(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&u.set(v.getKey(),v)}return K.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new re(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=fs(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=fs(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return K.resolve(y)}St(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.qr.get(u.largestBatchId).delete(s.key);this.qr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new HA(i,s));let f=this.qr.get(i);f===void 0&&(f=Vt(),this.qr.set(i,f)),this.qr.set(i,f.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.Qr=new Ie(xe.$r),this.Ur=new Ie(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new ct(new $t([])),s=new xe(i,e),u=new xe(i,e+1),f=[];return this.Ur.forEachInRange([s,u],(d=>{this.Gr(d),f.push(d.key)})),f}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new $t([])),s=new xe(i,e),u=new xe(i,e+1);let f=Vt();return this.Ur.forEachInRange([s,u],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new xe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Dt(e.Yr,i.Yr)}static Kr(e,i){return Dt(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(xe.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new PA(f,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Zr=this.Zr.add(new xe(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return K.resolve(d)}lookupMutationBatch(e,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.ei(s),f=u<0?0:u;return K.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?fd:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),u=new xe(i,Number.POSITIVE_INFINITY),f=[];return this.Zr.forEachInRange([s,u],(d=>{const y=this.Xr(d.Yr);f.push(y)})),K.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(Dt);return i.forEach((u=>{const f=new xe(u,0),d=new xe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([f,d],(y=>{s=s.add(y.Yr)}))})),K.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;ct.isDocumentKey(f)||(f=f.child(""));const d=new xe(new ct(f),0);let y=new Ie(Dt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Yr)),!0)}),d),K.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((s=>{const u=this.Xr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){Pt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return K.forEach(i.mutations,(u=>{const f=new xe(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new xe(i,0),u=this.Zr.firstAfterOrEqual(s);return K.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.ri=e,this.docs=(function(){return new re(ct.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return K.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach((u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Xe.newInvalidDocument(u))})),K.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=Hi();const d=i.path,y=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||nA(eA(A),s)<=0||(u.has(A.key)||gc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return K.resolve(f)}getAllFromCollectionGroup(e,i,s,u){dt(9500)}ii(e,i){return K.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new DS(this)}getSize(e){return K.resolve(this.size)}}class DS extends ES{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(e,u)):this.Nr.removeEntry(s)})),K.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.persistence=e,this.si=new ps((i=>gd(i)),pd),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new Td,this.targetCount=0,this.ai=Ar.ur()}forEachTarget(e,i){return this.si.forEach(((s,u)=>i(u))),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),K.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Ar(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(e,i){return this.Pr(i),K.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.si.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),K.waitFor(f).next((()=>u))}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return K.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),K.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach((d=>{f.push(u.markPotentiallyOrphaned(e,d))})),K.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return K.resolve(s)}containsKey(e,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,i){this.ui={},this.overlays={},this.ci=new hc(0),this.li=!1,this.li=!0,this.hi=new RS,this.referenceDelegate=e(this),this.Pi=new VS(this),this.indexManager=new dS,this.remoteDocumentCache=(function(u){return new wS(u)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hS(i),this.Ii=new SS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new bS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new CS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const u=new IS(this.ci.next());return this.referenceDelegate.Ei(),s(u).next((f=>this.referenceDelegate.di(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ai(e,i){return K.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class IS extends aA{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.Ri=new Td,this.Vi=null}static mi(e){return new Ad(e)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),K.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((f=>this.fi.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(s=>{const u=ct.fromPath(s);return this.gi(e,u).next((f=>{f||i.removeEntry(u,yt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new ps((s=>lA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=vS(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return K.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return K.forEach(this.pi,((s,u)=>this.br(e,s,u).next((f=>f?K.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ii(e,(d=>this.br(e,d,i).next((y=>{y||(s++,f.removeEntry(d,yt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ho(e.data.value)),i}br(e,i,s){return K.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.pi.get(i);return K.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=u}static As(e,i){let s=Vt(),u=Vt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Sd(e,i.fromCache,s,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RT()?8:sA(ST())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.ys(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ws(e,i,u,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new NS;return this.Ss(e,i,d).next((y=>{if(f.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>f.result))}bs(e,i,s,u){return s.documentReadCount<this.fs?(or()<=zt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",cr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(or()<=zt.DEBUG&&it("QueryEngine","Query:",cr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.gs*u?(or()<=zt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",cr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(i))):K.resolve())}ys(e,i){if(Ky(i))return K.resolve(null);let s=gi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=Zf(i,null,"F"),s=gi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Vt(...f);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.Ds(i,y);return this.Cs(i,_,d,v.readTime)?this.ys(e,Zf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,s,u){return Ky(i)||u.isEqual(yt.min())?K.resolve(null):this.ps.getDocuments(e,s).next((f=>{const d=this.Ds(i,f);return this.Cs(i,d,s,u)?K.resolve(null):(or()<=zt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cr(i)),this.vs(e,d,i,tA(u,Fl)).next((y=>y)))}))}Ds(e,i){let s=new Ie(gv(e));return i.forEach(((u,f)=>{gc(e,f)&&(s=s.add(f))})),s}Cs(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Ss(e,i,s){return or()<=zt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",cr(i)),this.ps.getDocumentsMatchingQuery(e,i,Da.min(),s)}vs(e,i,s,u){return this.ps.getDocumentsMatchingQuery(e,s,u).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="LocalStore",MS=3e8;class xS{constructor(e,i,s,u){this.persistence=e,this.Fs=i,this.serializer=u,this.Ms=new re(Dt),this.xs=new ps((f=>gd(f)),pd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zS(r,e,i,s){return new xS(r,e,i,s)}async function jv(r,e){const i=vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((f=>(u=f,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],y=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function US(r,e){const i=vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),f=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const b=_.batch,z=b.keys();let Q=K.resolve();return z.forEach(($=>{Q=Q.next((()=>A.getEntry(v,$))).next((nt=>{const J=_.docVersions.get($);Pt(J!==null,48541),nt.version.compareTo(J)<0&&(b.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(v,b)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Vt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function qv(r){const e=vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function LS(r,e){const i=vt(r),s=e.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const y=[];e.targetChanges.forEach(((A,b)=>{const z=u.get(b);if(!z)return;y.push(i.Pi.removeMatchingKeys(f,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(f,A.addedDocuments,b))));let Q=z.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(b)!==null?Q=Q.withResumeToken(Ge.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(A.resumeToken,s)),u=u.insert(b,Q),(function(nt,J,mt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=MS?!0:mt.addedDocuments.size+mt.modifiedDocuments.size+mt.removedDocuments.size>0})(z,Q,A)&&y.push(i.Pi.updateTargetData(f,Q))}));let v=Hi(),_=Vt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),y.push(BS(f,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!s.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(f).next((b=>i.Pi.setTargetsMetadata(f,f.currentSequenceNumber,s)));y.push(A)}return K.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.Ms=u,f)))}function BS(r,e,i){let s=Vt(),u=Vt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=Hi();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(yt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):it(bd,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:u}}))}function jS(r,e){const i=vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=fd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function qS(r,e){const i=vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.Pi.getTargetData(s,e).next((f=>f?(u=f,K.resolve(u)):i.Pi.allocateTargetId(s).next((d=>(u=new Aa(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.Ms.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function ed(r,e,i){const s=vt(r),u=s.Ms.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!wr(d))throw d;it(bd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(u.target)}function u_(r,e,i){const s=vt(r);let u=yt.min(),f=Vt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const b=vt(v),z=b.xs.get(A);return z!==void 0?K.resolve(b.Ms.get(z)):b.Pi.getTargetData(_,A)})(s,d,gi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?f:Vt()))).next((y=>(PS(s,CA(e),y),{documents:y,Qs:f})))))}function PS(r,e,i){let s=r.Os.get(e)||yt.min();i.forEach(((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Os.set(e,s)}class o_{constructor(){this.activeTargetIds=OA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HS{constructor(){this.Mo=new o_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="ConnectivityMonitor";class h_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(c_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){it(c_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=null;function nd(){return Bo===null?Bo=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bo++,"0x"+Bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="RestConnection",GS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${u}`,this.Wo=this.databaseId.database===Wo?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Go(e,i,s,u,f){const d=nd(),y=this.zo(e,i.toUriEncodedString());it(zf,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,f);const{host:_}=new URL(y),A=ud(_);return this.Jo(e,y,v,s,A).then((b=>(it(zf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw _r(zf,`RPC '${e}' ${d} failed with error: `,b,"url: ",y,"request:",s),b}))}Ho(e,i,s,u,f,d){return this.Go(e,i,s,u,f)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Rr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,f)=>e[f]=u)),s&&s.headers.forEach(((u,f)=>e[f]=u))}zo(e,i){const s=GS[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class YS extends QS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,u,f){const d=nd();return new Promise(((y,v)=>{const _=new P_;_.setWithCredentials(!0),_.listenOnce(H_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Po.NO_ERROR:const b=_.getResponseJson();it(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),y(b);break;case Po.TIMEOUT:it(Fe,`RPC '${e}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Po.HTTP_ERROR:const z=_.getStatus();if(it(Fe,`RPC '${e}' ${d} failed with status:`,z,"response text:",_.getResponseText()),z>0){let Q=_.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const nt=(function(mt){const gt=mt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN})($.status);v(new at(nt,$.message))}else v(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Fe,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);it(Fe,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=nd(),f=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Q_(),y=G_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=f.join("");it(Fe,`Creating RPC '${e}' stream ${u}: ${A}`,v);const b=d.createWebChannel(A,v);this.I_(b);let z=!1,Q=!1;const $=new FS({Yo:J=>{Q?it(Fe,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(z||(it(Fe,`Opening RPC '${e}' stream ${u} transport.`),b.open(),z=!0),it(Fe,`RPC '${e}' stream ${u} sending:`,J),b.send(J))},Zo:()=>b.close()}),nt=(J,mt,gt)=>{J.listen(mt,(ut=>{try{gt(ut)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(b,Ul.EventType.OPEN,(()=>{Q||(it(Fe,`RPC '${e}' stream ${u} transport opened.`),$.o_())})),nt(b,Ul.EventType.CLOSE,(()=>{Q||(Q=!0,it(Fe,`RPC '${e}' stream ${u} transport closed`),$.a_(),this.E_(b))})),nt(b,Ul.EventType.ERROR,(J=>{Q||(Q=!0,_r(Fe,`RPC '${e}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),nt(b,Ul.EventType.MESSAGE,(J=>{if(!Q){const mt=J.data[0];Pt(!!mt,16349);const gt=mt,ut=gt?.error||gt[0]?.error;if(ut){it(Fe,`RPC '${e}' stream ${u} received error:`,ut);const Ot=ut.status;let Ft=(function(S){const w=Se[S];if(w!==void 0)return wv(w)})(Ot),It=ut.message;Ft===void 0&&(Ft=X.INTERNAL,It="Unknown error status: "+Ot+" with message "+ut.message),Q=!0,$.a_(new at(Ft,It)),b.close()}else it(Fe,`RPC '${e}' stream ${u} received:`,mt),$.u_(mt)}})),nt(y,k_.STAT_EVENT,(J=>{J.stat===kf.PROXY?it(Fe,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===kf.NOPROXY&&it(Fe,`RPC '${e}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(r){return new JA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,i,s=1e3,u=1.5,f=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=u,this.R_=f,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="PersistentStream";class Hv{constructor(e,i,s,u,f,d,y,v){this.Mi=e,this.S_=s,this.b_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Pv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Pi(i.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new at(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return it(f_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(it(f_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XS extends Hv{constructor(e,i,s,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=tS(this.serializer,e),s=(function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?pi(d.readTime):yt.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=td(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=Xf(v)?{documents:iS(f,v)}:{query:aS(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Iv(f,d.resumeToken);const _=Jf(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){y.readTime=sc(f,d.snapshotVersion.toTimestamp());const _=Jf(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=rS(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.q_(i)}}class KS extends Hv{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=nS(e.writeResults,e.commitTime),s=pi(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>eS(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class JS extends ZS{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Go(e,$f(i,s),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(X.UNKNOWN,f.toString())}))}Ho(e,i,s,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,$f(i,s),u,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $S{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Pi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class WS{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=f,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{_s(this)&&(it(ms,"Restarting streams for network reachability change."),await(async function(v){const _=vt(v);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ec(_)})(this))}))})),this.Ra=new $S(s,u)}}async function Ec(r){if(_s(r))for(const e of r.da)await e(!0)}async function nu(r){for(const e of r.da)await e(!1)}function kv(r,e){const i=vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Dd(i)?wd(i):Dr(i).O_()&&Cd(i,e))}function Rd(r,e){const i=vt(r),s=Dr(i);i.Ia.delete(e),s.O_()&&Gv(i,e),i.Ia.size===0&&(s.O_()?s.L_():_s(i)&&i.Ra.set("Unknown"))}function Cd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Dr(r).Y_(e)}function Gv(r,e){r.Va.Ue(e),Dr(r).Z_(e)}function wd(r){r.Va=new YA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Dr(r).start(),r.Ra.ua()}function Dd(r){return _s(r)&&!Dr(r).x_()&&r.Ia.size>0}function _s(r){return vt(r).Ea.size===0}function Qv(r){r.Va=void 0}async function tb(r){r.Ra.set("Online")}async function eb(r){r.Ia.forEach(((e,i)=>{Cd(r,e)}))}async function nb(r,e){Qv(r),Dd(r)?(r.Ra.ha(e),wd(r)):r.Ra.set("Unknown")}async function ib(r,e,i){if(r.Ra.set("Online"),e instanceof Vv&&e.state===2&&e.cause)try{await(async function(u,f){const d=f.cause;for(const y of f.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.Va.removeTarget(y))})(r,e)}catch(s){it(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lc(r,s)}else if(e instanceof Qo?r.Va.Ze(e):e instanceof Dv?r.Va.st(e):r.Va.tt(e),!i.isEqual(yt.min()))try{const s=await qv(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const y=f.Va.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(Ge.EMPTY_BYTE_STRING,A.snapshotVersion)),Gv(f,v);const b=new Aa(A.target,v,_,A.sequenceNumber);Cd(f,b)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){it(ms,"Failed to raise snapshot:",s),await lc(r,s)}}async function lc(r,e,i){if(!wr(e))throw e;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>qv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{it(ms,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ec(r)}))}function Fv(r,e){return e().catch((i=>lc(r,i,e)))}async function Tc(r){const e=vt(r),i=Oa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fd;for(;ab(e);)try{const u=await jS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,sb(e,u)}catch(u){await lc(e,u)}Yv(e)&&Xv(e)}function ab(r){return _s(r)&&r.Ta.length<10}function sb(r,e){r.Ta.push(e);const i=Oa(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Yv(r){return _s(r)&&!Oa(r).x_()&&r.Ta.length>0}function Xv(r){Oa(r).start()}async function rb(r){Oa(r).ra()}async function lb(r){const e=Oa(r);for(const i of r.Ta)e.ea(i.mutations)}async function ub(r,e,i){const s=r.Ta.shift(),u=_d.from(s,e,i);await Fv(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await Tc(r)}async function ob(r,e){e&&Oa(r).X_&&await(async function(s,u){if((function(d){return GA(d)&&d!==X.ABORTED})(u.code)){const f=s.Ta.shift();Oa(s).B_(),await Fv(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u))),await Tc(s)}})(r,e),Yv(r)&&Xv(r)}async function d_(r,e){const i=vt(r);i.asyncQueue.verifyOperationInProgress(),it(ms,"RemoteStore received new credentials");const s=_s(i);i.Ea.add(3),await nu(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ec(i)}async function cb(r,e){const i=vt(r);e?(i.Ea.delete(2),await Ec(i)):e||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Dr(r){return r.ma||(r.ma=(function(i,s,u){const f=vt(i);return f.sa(),new XS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:tb.bind(null,r),t_:eb.bind(null,r),r_:nb.bind(null,r),H_:ib.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Dd(r)?wd(r):r.Ra.set("Unknown")):(await r.ma.stop(),Qv(r))}))),r.ma}function Oa(r){return r.fa||(r.fa=(function(i,s,u){const f=vt(i);return f.sa(),new KS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:rb.bind(null,r),r_:ob.bind(null,r),ta:lb.bind(null,r),na:ub.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Tc(r)):(await r.fa.stop(),r.Ta.length>0&&(it(ms,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,y=new Vd(e,i,d,u,f);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(r,e){if(Pi("AsyncQueue",`${e}: ${r}`),wr(r))return new at(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{static emptySet(e){return new mr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Ll(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new mr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.ga=new re(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):dt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Sr{constructor(e,i,s,u,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Sr(e,i,mr.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fb{constructor(){this.queries=g_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=vt(i),f=u.queries;u.queries=g_(),f.forEach(((d,y)=>{for(const v of y.Sa)v.onError(s)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function g_(){return new ps((r=>mv(r)),mc)}async function db(r,e){const i=vt(r);let s=3;const u=e.query;let f=i.queries.get(u);f?!f.ba()&&e.Da()&&(s=2):(f=new hb,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(u,!0);break;case 1:f.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Id(d,`Initialization of query '${cr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,f),f.Sa.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&Nd(i)}async function mb(r,e){const i=vt(r),s=e.query;let u=3;const f=i.queries.get(s);if(f){const d=f.Sa.indexOf(e);d>=0&&(f.Sa.splice(d,1),f.Sa.length===0?u=e.Da()?0:1:!f.ba()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function gb(r,e){const i=vt(r);let s=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const y of d.Sa)y.Fa(u)&&(s=!0);d.wa=u}}s&&Nd(i)}function pb(r,e,i){const s=vt(r),u=s.queries.get(e);if(u)for(const f of u.Sa)f.onError(i);s.queries.delete(e)}function Nd(r){r.Ca.forEach((e=>{e.next()}))}var id,p_;(p_=id||(id={})).Ma="default",p_.Cache="cache";class yb{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Sr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Sr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.key=e}}class Zv{constructor(e){this.key=e}}class _b{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=gv(e),this.tu=new mr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new m_,u=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,b)=>{const z=u.get(A),Q=gc(this.query,b)?b:null,$=!!z&&this.mutatedKeys.has(z.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;z&&Q?z.data.isEqual(Q.data)?$!==nt&&(s.track({type:3,doc:Q}),J=!0):this.su(z,Q)||(s.track({type:2,doc:Q}),J=!0,(v&&this.eu(Q,v)>0||_&&this.eu(Q,_)<0)&&(y=!0)):!z&&Q?(s.track({type:0,doc:Q}),J=!0):z&&!Q&&(s.track({type:1,doc:z}),J=!0,(v||_)&&(y=!0)),J&&(Q?(d=d.add(Q),f=nt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,b)=>(function(Q,$){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:J})}};return nt(Q)-nt($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Sr(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new m_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new Zv(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new Kv(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Sr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Od="SyncEngine";class vb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Eb{constructor(e){this.key=e,this.hu=!1}}class Tb{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ps((y=>mv(y)),mc),this.Iu=new Map,this.Eu=new Set,this.du=new re(ct.comparator),this.Au=new Map,this.Ru=new Td,this.Vu={},this.mu=new Map,this.fu=Ar.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ab(r,e,i=!0){const s=n0(r);let u;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.lu()):u=await Jv(s,e,i,!0),u}async function Sb(r,e){const i=n0(r);await Jv(i,e,!0,!1)}async function Jv(r,e,i,s){const u=await qS(r.localStore,gi(e)),f=u.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return s&&(y=await bb(r,e,f,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&kv(r.remoteStore,u),y}async function bb(r,e,i,s,u){r.pu=(b,z,Q)=>(async function(nt,J,mt,gt){let ut=J.view.ru(mt);ut.Cs&&(ut=await u_(nt.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,ut))));const Ot=gt&&gt.targetChanges.get(J.targetId),Ft=gt&&gt.targetMismatches.get(J.targetId)!=null,It=J.view.applyChanges(ut,nt.isPrimaryClient,Ot,Ft);return __(nt,J.targetId,It.au),It.snapshot})(r,b,z,Q);const f=await u_(r.localStore,e,!0),d=new _b(e,f.Qs),y=d.ru(f.documents),v=eu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);__(r,i,_.au);const A=new vb(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function Rb(r,e,i){const s=vt(r),u=s.Tu.get(e),f=s.Iu.get(u.targetId);if(f.length>1)return s.Iu.set(u.targetId,f.filter((d=>!mc(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await ed(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Rd(s.remoteStore,u.targetId),ad(s,u.targetId)})).catch(Cr)):(ad(s,u.targetId),await ed(s.localStore,u.targetId,!0))}async function Cb(r,e){const i=vt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Rd(i.remoteStore,s.targetId))}async function wb(r,e,i){const s=xb(r);try{const u=await(function(d,y){const v=vt(d),_=ee.now(),A=y.reduce(((Q,$)=>Q.add($.key)),Vt());let b,z;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let $=Hi(),nt=Vt();return v.Ns.getEntries(Q,A).next((J=>{$=J,$.forEach(((mt,gt)=>{gt.isValidDocument()||(nt=nt.add(mt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,$))).next((J=>{b=J;const mt=[];for(const gt of y){const ut=jA(gt,b.get(gt.key).overlayedDocument);ut!=null&&mt.push(new ys(gt.key,ut,sv(ut.value.mapValue),ji.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,_,mt,y)})).next((J=>{z=J;const mt=J.applyToLocalDocumentSet(b,nt);return v.documentOverlayCache.saveOverlays(Q,J.batchId,mt)}))})).then((()=>({batchId:z.batchId,changes:yv(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Dt)),_=_.insert(y,v),d.Vu[d.currentUser.toKey()]=_})(s,u.batchId,i),await iu(s,u.changes),await Tc(s.remoteStore)}catch(u){const f=Id(u,"Failed to persist write");i.reject(f)}}async function $v(r,e){const i=vt(r);try{const s=await LS(i.localStore,e);e.targetChanges.forEach(((u,f)=>{const d=i.Au.get(f);d&&(Pt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?Pt(d.hu,14607):u.removedDocuments.size>0&&(Pt(d.hu,42227),d.hu=!1))})),await iu(i,s,e)}catch(s){await Cr(s)}}function y_(r,e,i){const s=vt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=vt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,b)=>{for(const z of b.Sa)z.va(y)&&(_=!0)})),_&&Nd(v)})(s.eventManager,e),u.length&&s.Pu.H_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Db(r,e,i){const s=vt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),f=u&&u.key;if(f){let d=new re(ct.comparator);d=d.insert(f,Xe.newNoDocument(f,yt.min()));const y=Vt().add(f),v=new _c(yt.min(),new Map,new re(Dt),d,y);await $v(s,v),s.du=s.du.remove(f),s.Au.delete(e),Md(s)}else await ed(s.localStore,e,!1).then((()=>ad(s,e,i))).catch(Cr)}async function Vb(r,e){const i=vt(r),s=e.batch.batchId;try{const u=await US(i.localStore,e);t0(i,s,null),Wv(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await iu(i,u)}catch(u){await Cr(u)}}async function Ib(r,e,i){const s=vt(r);try{const u=await(function(d,y){const v=vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((b=>(Pt(b!==null,37113),A=b.keys(),v.mutationQueue.removeMutationBatch(_,b)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);t0(s,e,i),Wv(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await iu(s,u)}catch(u){await Cr(u)}}function Wv(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function t0(r,e,i){const s=vt(r);let u=s.Vu[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.Vu[s.currentUser.toKey()]=u}}function ad(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||e0(r,s)}))}function e0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Rd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Md(r))}function __(r,e,i){for(const s of i)s instanceof Kv?(r.Ru.addReference(s.key,e),Nb(r,s)):s instanceof Zv?(it(Od,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||e0(r,s.key)):dt(19791,{wu:s})}function Nb(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(it(Od,"New document in limbo: "+i),r.Eu.add(s),Md(r))}function Md(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new ct($t.fromString(e)),s=r.fu.next();r.Au.set(s,new Eb(i)),r.du=r.du.insert(i,s),kv(r.remoteStore,new Aa(gi(fv(i.path)),s,"TargetPurposeLimboResolution",hc.ce))}}async function iu(r,e,i){const s=vt(r),u=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Sd.As(v.targetId,_);f.push(A)}})))})),await Promise.all(d),s.Pu.H_(u),await(async function(v,_){const A=vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>K.forEach(_,(z=>K.forEach(z.Es,(Q=>A.persistence.referenceDelegate.addReference(b,z.targetId,Q))).next((()=>K.forEach(z.ds,(Q=>A.persistence.referenceDelegate.removeReference(b,z.targetId,Q)))))))))}catch(b){if(!wr(b))throw b;it(bd,"Failed to update sequence numbers: "+b)}for(const b of _){const z=b.targetId;if(!b.fromCache){const Q=A.Ms.get(z),$=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(z,nt)}}})(s.localStore,f))}async function Ob(r,e){const i=vt(r);if(!i.currentUser.isEqual(e)){it(Od,"User change. New user:",e.toKey());const s=await jv(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(i,s.Ls)}}function Mb(r,e){const i=vt(r),s=i.Au.get(e);if(s&&s.hu)return Vt().add(s.key);{let u=Vt();const f=i.Iu.get(e);if(!f)return u;for(const d of f){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function n0(r){const e=vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=$v.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Db.bind(null,e),e.Pu.H_=gb.bind(null,e.eventManager),e.Pu.yu=pb.bind(null,e.eventManager),e}function xb(r){const e=vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ib.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zS(this.persistence,new OS,e.initialUser,this.serializer)}Cu(e){return new Bv(Ad.mi,this.serializer)}Du(e){return new HS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class zb extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Pt(this.persistence.referenceDelegate instanceof rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new Bv((s=>rc.mi(s,i)),this.serializer)}}class sd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>y_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ob.bind(null,this.syncEngine),await cb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fb})()}createDatastore(e){const i=vc(e.databaseInfo.databaseId),s=(function(f){return new YS(f)})(e.databaseInfo);return(function(f,d,y,v){return new JS(f,d,y,v)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,f,d,y){return new WS(s,u,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>y_(this.syncEngine,i,0)),(function(){return h_.v()?new h_:new kS})())}createSyncEngine(e,i){return(function(u,f,d,y,v,_,A){const b=new Tb(u,f,d,y,v,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=vt(i);it(ms,"RemoteStore shutting down."),s.Ea.add(5),await nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sd.provider={build:()=>new sd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Pi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class Lb{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ye.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{it(Ma,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(it(Ma,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Id(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lf(r,e){r.asyncQueue.verifyOperationInProgress(),it(Ma,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await jv(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function v_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await Bb(r);it(Ma,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>d_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>d_(e.remoteStore,u))),r._onlineComponents=e}async function Bb(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Ma,"Using user provided OfflineComponentProvider");try{await Lf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===X.FAILED_PRECONDITION||u.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;_r("Error using user provided cache. Falling back to memory cache: "+i),await Lf(r,new uc)}}else it(Ma,"Using default OfflineComponentProvider"),await Lf(r,new zb(void 0));return r._offlineComponents}async function i0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Ma,"Using user provided OnlineComponentProvider"),await v_(r,r._uninitializedComponentsProvider._online)):(it(Ma,"Using default OnlineComponentProvider"),await v_(r,new sd))),r._onlineComponents}function jb(r){return i0(r).then((e=>e.syncEngine))}async function qb(r){const e=await i0(r),i=e.eventManager;return i.onListen=Ab.bind(null,e.syncEngine),i.onUnlisten=Rb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Sb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Cb.bind(null,e.syncEngine),i}function Pb(r,e,i={}){const s=new Ca;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const A=new Ub({next:z=>{A.Nu(),d.enqueueAndForget((()=>mb(f,b))),z.fromCache&&v.source==="server"?_.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(z)},error:z=>_.reject(z)}),b=new yb(y,A,{includeMetadataChanges:!0,qa:!0});return db(f,b)})(await qb(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firestore.googleapis.com",T_=!0;class A_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s0,this.ssl=T_}else this.host=e.host,this.ssl=e.ssl??T_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Lv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gS)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ac{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new k1;switch(s.type){case"firstParty":return new Y1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=E_.get(i);s&&(it("ComponentProvider","Removing Datastore"),E_.delete(i),s.terminate())})(this),Promise.resolve()}}function Hb(r,e,i,s={}){r=Jo(r,Ac);const u=ud(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(_T(`https://${y}`),AT("Firestore",!0)),f.host!==s0&&f.host!==y&&_r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:u,emulatorOptions:s};if(!Xo(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=Ye.MOCK_USER;else{_=vT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(b)}r._authCredentials=new G1(new Y_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class ze{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ze(this.firestore,e,this._key)}toJSON(){return{type:ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if($l(i,ze._jsonSchema))return new ze(e,s||null,new ct($t.fromString(i.referencePath)))}}ze._jsonSchemaVersion="firestore/documentReference/1.0",ze._jsonSchema={type:Re("string",ze._jsonSchemaVersion),referencePath:Re("string")};class wa extends Vr{constructor(e,i,s){super(e,i,fv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ze(this.firestore,null,new ct(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function S_(r,e,...i){if(r=yr(r),X_("collection","path",e),r instanceof Ac){const s=$t.fromString(e,...i);return zy(s),new wa(r,null,s)}{if(!(r instanceof ze||r instanceof wa))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return zy(s),new wa(r.firestore,null,s)}}function kb(r,e,...i){if(r=yr(r),arguments.length===1&&(e=hd.newId()),X_("doc","path",e),r instanceof Ac){const s=$t.fromString(e,...i);return xy(s),new ze(r,null,new ct(s))}{if(!(r instanceof ze||r instanceof wa))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return xy(s),new ze(r.firestore,r instanceof wa?r.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Pv(this,"async_queue_retry"),this._c=()=>{const s=Uf();s&&it(b_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Uf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Uf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ca;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wr(e))throw e;it(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Pi("INTERNAL UNHANDLED ERROR: ",C_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=Vd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&dt(47125,{Pc:C_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function C_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xd extends Ac{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new R_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function Gb(r,e){const i=typeof r=="object"?r:O1(),s=typeof r=="string"?r:Wo,u=w1(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=pT("firestore");f&&Hb(u,...f)}return u}function r0(r){if(r._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Qb(r),r._firestoreClient}function Qb(r){const e=r._freezeSettings(),i=(function(u,f,d,y){return new cA(u,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,a0(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Lb(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Ge.fromBase64String(e))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Nn(Ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:Re("string",Nn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yi._jsonSchemaVersion}}static fromJSON(e){if($l(e,yi._jsonSchema))return new yi(e.latitude,e.longitude)}}yi._jsonSchemaVersion="firestore/geoPoint/1.0",yi._jsonSchema={type:Re("string",yi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:_i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,_i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new _i(e.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_i._jsonSchemaVersion="firestore/vectorValue/1.0",_i._jsonSchema={type:Re("string",_i._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=/^__.*__$/;class Yb{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,i,this.fieldTransforms):new tu(e,this.data,i,this.fieldTransforms)}}function u0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:r})}}class Ud{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.Rc(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ud({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return oc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(u0(this.Ac)&&Fb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Xb{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||vc(e)}Cc(e,i,s,u=!1){return new Ud({Ac:e,methodName:i,Dc:s,path:ke.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o0(r){const e=r._freezeSettings(),i=vc(r._databaseId);return new Xb(r._databaseId,!!e.ignoreUndefinedProperties,i)}function Kb(r,e,i,s,u,f={}){const d=r.Cc(f.merge||f.mergeFields?2:0,e,i,u);f0("Data must be an object, but it was:",d,s);const y=c0(s,d);let v,_;if(f.merge)v=new Gn(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const b of f.mergeFields){const z=Jb(e,b,i);if(!d.contains(z))throw new at(X.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);Wb(A,z)||A.push(z)}v=new Gn(A),_=d.fieldTransforms.filter((b=>v.covers(b.field)))}else v=null,_=d.fieldTransforms;return new Yb(new In(y),v,_)}function Zb(r,e,i,s=!1){return Ld(i,r.Cc(s?4:3,e))}function Ld(r,e){if(h0(r=yr(r)))return f0("Unsupported field value:",e,r),c0(r,e);if(r instanceof l0)return(function(s,u){if(!u0(u.Ac))throw u.Sc(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,u){const f=[];let d=0;for(const y of s){let v=Ld(y,u.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,u){if((s=yr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return MA(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=ee.fromDate(s);return{timestampValue:sc(u.serializer,f)}}if(s instanceof ee){const f=new ee(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sc(u.serializer,f)}}if(s instanceof yi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Nn)return{bytesValue:Iv(u.serializer,s._byteString)};if(s instanceof ze){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Ed(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof _i)return(function(d,y){return{mapValue:{fields:{[iv]:{stringValue:av},[tc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return yd(y.serializer,_)}))}}}}}})(s,u);throw u.Sc(`Unsupported field value: ${cc(s)}`)})(r,e)}function c0(r,e){const i={};return J_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,u)=>{const f=Ld(u,e.mc(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function h0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ee||r instanceof yi||r instanceof Nn||r instanceof ze||r instanceof l0||r instanceof _i)}function f0(r,e,i){if(!h0(i)||!K_(i)){const s=cc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Jb(r,e,i){if((e=yr(e))instanceof zd)return e._internalPath;if(typeof e=="string")return d0(r,e);throw oc("Field path arguments must be of type string or ",r,!1,void 0,i)}const $b=new RegExp("[~\\*/\\[\\]]");function d0(r,e,i){if(e.search($b)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new zd(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oc(r,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new at(X.INVALID_ARGUMENT,y+r+v)}function Wb(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i,s,u,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Bd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class t2 extends m0{data(){return super.data()}}function Bd(r,e){return typeof e=="string"?d0(r,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jd{}class n2 extends jd{}function i2(r,e,...i){let s=[];e instanceof jd&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((v=>v instanceof qd)).length,y=f.filter((v=>v instanceof Sc)).length;if(d>1||d>0&&y>0)throw new at(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Sc extends n2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Sc(e,i,s)}_apply(e){const i=this._parse(e);return g0(e._query,i),new Vr(e.firestore,e.converter,Kf(e._query,i))}_parse(e){const i=o0(e.firestore);return(function(f,d,y,v,_,A,b){let z;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){D_(b,A);const $=[];for(const nt of b)$.push(w_(v,f,nt));z={arrayValue:{values:$}}}else z=w_(v,f,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||D_(b,A),z=Zb(y,d,b,A==="in"||A==="not-in");return be.create(_,A,z)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function a2(r,e,i){const s=e,u=Bd("where",r);return Sc._create(u,s,i)}class qd extends jd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new qd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Qn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,f){let d=u;const y=f.getFlattenedFilters();for(const v of y)g0(d,v),d=Kf(d,v)})(e._query,i),new Vr(e.firestore,e.converter,Kf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function w_(r,e,i){if(typeof(i=yr(i))=="string"){if(i==="")throw new at(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dv(e)&&i.indexOf("/")!==-1)throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child($t.fromString(i));if(!ct.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ky(r,new ct(s))}if(i instanceof ze)return ky(r,i._key);throw new at(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function D_(r,e){if(!Array.isArray(r)||r.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function g0(r,e){const i=(function(u,f){for(const d of u)for(const y of d.getFlattenedFilters())if(f.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class s2{convertValue(e,i="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return gs(e,((u,f)=>{s[u]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[tc].arrayValue?.values?.map((s=>de(s.doubleValue)));return new _i(i)}convertGeoPoint(e){return new yi(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=dc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const i=Va(e);return new ee(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);Pt(Uv(s),9688,{name:e});const u=new Xl(s.get(1),s.get(3)),f=new ct(s.popFirst(5));return u.isEqual(i)||Pi(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class jo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends m0{constructor(e,i,s,u,f,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Bd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",gr._jsonSchema={type:Re("string",gr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Fo extends gr{data(e={}){return super.data(e)}}class pr{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new jo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Fo(this._firestore,this._userDataWriter,s.key,s,new jo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new Fo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new jo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new Fo(u._firestore,u._userDataWriter,y.doc.key,y.doc,new jo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:l2(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function l2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:r})}}pr._jsonSchemaVersion="firestore/querySnapshot/1.0",pr._jsonSchema={type:Re("string",pr._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class u2 extends s2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ze(this.firestore,null,i)}}function o2(r){r=Jo(r,Vr);const e=Jo(r.firestore,xd),i=r0(e),s=new u2(e);return e2(r._query),Pb(i,r._query).then((u=>new pr(e,s,r,u)))}function c2(r,e){const i=Jo(r.firestore,xd),s=kb(r),u=r2(r.converter,e);return h2(i,[Kb(o0(r.firestore),"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then((()=>s))}function h2(r,e){return(function(s,u){const f=new Ca;return s.asyncQueue.enqueueAndForget((async()=>wb(await jb(s),u,f))),f.promise})(r0(r),e)}(function(e,i=!0){(function(u){Rr=u})(N1),Zo(new Gl("firestore",((s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),y=new xd(new Q1(s.getProvider("auth-internal")),new X1(d,s.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(_.options.projectId,A)})(d,u),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),dr(Iy,Ny,e),dr(Iy,Ny,"esm2020")})();var f2="firebase",d2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(f2,d2,"app");const m2={apiKey:"AIzaSyBDOCjQGnMEhNdmfHnZLrQiuj1vKTJksRM",authDomain:"chido-app.firebaseapp.com",projectId:"chido-app",storageBucket:"chido-app.appspot.com",messagingSenderId:"296539722031",appId:"1:296539722031:web:5dad3e401de63f13a5d1da",measurementId:"G-42Q1HL42VP"},g2=L_(m2),V_=Gb(g2),p2=["Fallo","Actitud","Sucio","Lento"],p0=({show:r,onClose:e,onSubmit:i})=>{const[s,u]=Vn.useState(""),[f,d]=Vn.useState(""),y=()=>{if(!s||!f){alert("Por favor completa los campos obligatorios.");return}const v=new Date().toISOString();i({motivo:s,descripcion:f,fecha:v}),u(""),d(""),e()};return r?W.jsx("div",{className:"position-fixed top-0 start-0 w-100 h-100 bg-dark bg-opacity-50 d-flex align-items-center justify-content-center z-3",children:W.jsxs("div",{className:"bg-white rounded p-4",style:{width:"400px"},children:[W.jsx("h5",{className:"mb-3",children:"Formulario de Reporte"}),W.jsxs("div",{className:"mb-3",children:[W.jsx("label",{className:"form-label",children:"Motivo"}),W.jsx("div",{className:"d-flex flex-wrap gap-2",children:p2.map(v=>W.jsx("button",{type:"button",className:`btn ${s===v?"btn-warning":"btn-outline-secondary"}`,onClick:()=>u(v),children:v},v))})]}),W.jsxs("div",{className:"mb-3",children:[W.jsx("label",{className:"form-label",children:"Descripcin"}),W.jsx("textarea",{className:"form-control",rows:3,value:f,onChange:v=>d(v.target.value)})]}),W.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[W.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cancelar"}),W.jsx("button",{className:"btn btn-primary",onClick:y,children:"Enviar"})]})]})}):null},y2=({show:r,onClose:e,nombre:i,reportes:s})=>r?W.jsx("div",{className:"modal d-block",tabIndex:-1,role:"dialog",style:{backgroundColor:"rgba(0,0,0,0.5)"},onClick:e,children:W.jsx("div",{className:"modal-dialog",role:"document",onClick:u=>u.stopPropagation(),children:W.jsxs("div",{className:"modal-content",children:[W.jsxs("div",{className:"modal-header",children:[W.jsxs("h5",{className:"modal-title",children:["Reportes de ",i]}),W.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),W.jsxs("div",{className:"modal-body",children:[s.length===0&&W.jsx("p",{children:"No hay reportes para esta persona."}),s.map((u,f)=>W.jsxs("div",{className:"border rounded p-2 mb-2",children:[W.jsxs("p",{children:[W.jsx("strong",{children:"Motivo:"})," ",u.motivo]}),W.jsxs("div",{className:"",children:[W.jsx("p",{className:"mb-0 fw-bold",children:"Descripcin:"}),W.jsx("p",{className:"mb-3",children:u.descripcion})]}),W.jsx("p",{children:W.jsx("small",{children:W.jsx("em",{children:new Date(u.fecha).toLocaleString()})})})]},f))]}),W.jsx("div",{className:"modal-footer",children:W.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Cerrar"})})]})})}):null;function _2({onPress:r,onDelete:e}){const i=["1","2","3","4","5","6","7","8","9"];return W.jsxs("div",{className:"keyboard-container",children:[i.map(s=>W.jsx("button",{className:"keyboard-key",onClick:()=>r(s),children:s},s)),W.jsx("button",{className:"keyboard-delete",onClick:e,children:"Borrar"})]})}function v2({onValidate:r,onClose:e,onSuccess:i,length:s=4,children:u}){const[f,d]=Vn.useState(""),[y,v]=Vn.useState(""),_=Q=>{f.length>=s||(d($=>$+Q),v(""))},A=()=>{d(Q=>Q.slice(0,-1)),v("")},b=()=>{r(f)?(e(),i(),d(""),v("")):(v("Contrasea incorrecta"),d(""))},z=Q=>{Q.stopPropagation()};return W.jsx("div",{style:qo.modal,onClick:e,children:W.jsxs("div",{style:qo.box,onClick:z,children:[W.jsx("h2",{children:"Introduce la contrasea"}),W.jsx("div",{style:qo.display,children:f.replace(/./g,"")||""}),y&&W.jsx("p",{style:{color:"red"},children:y}),W.jsx(_2,{onPress:_,onDelete:A}),W.jsx("button",{style:qo.button,onClick:b,disabled:f.length<s,children:"Aceptar"}),u," "]})})}const qo={modal:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0,0,0,0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},box:{background:"white",padding:24,borderRadius:12,width:320,textAlign:"center"},display:{fontSize:28,marginTop:12,letterSpacing:8,minHeight:36},button:{width:"100%",padding:12,marginTop:14,fontSize:18,cursor:"pointer",borderRadius:10}};function E2({showModal:r,onClose:e,onSuccess:i,children:s}){const u="2386",f=d=>d===u;return r?W.jsxs(v2,{onValidate:f,onClose:e,onSuccess:i,length:u?.length||4,children:[s," "]}):null}const T2=({nombre:r,trabajadores:e})=>{const[i,s]=Vn.useState(!1),[u,f]=Vn.useState(!1),[d,y]=Vn.useState([]),[v,_]=Vn.useState(!0),[A,b]=Vn.useState(!1);Vn.useEffect(()=>{(async()=>{_(!0);try{const ut=i2(S_(V_,"reportes"),a2("nombre","==",r)),Ot=await o2(ut),Ft=[];Ot.forEach(It=>Ft.push(It.data())),y(Ft)}catch(ut){console.error("Error al cargar reportes:",ut)}finally{_(!1)}})()},[r]);const z=async gt=>{if(d.length>=10)return;const ut={...gt,nombre:r};try{await c2(S_(V_,"reportes"),ut),y(Ot=>[...Ot,ut]),s(!1)}catch(Ot){console.error("Error al guardar reporte:",Ot),alert("No se pudo guardar el reporte. Revisa la consola.")}},Q=d.length;let $="#f8f9fa";Q>=10?$="#dc3545":Q>=5&&($="#b85e00");const nt=Q>=10,J=()=>{nt||b(!0)},mt=()=>{b(!1),s(!0)};return W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"cuadro-trabajador border rounded p-3 w-100 mb-3 d-flex align-items-center",style:{maxWidth:"700px",margin:"0 auto",cursor:nt?"not-allowed":"pointer",backgroundColor:$,color:"black",transition:"background-color 0.3s ease"},onClick:J,children:[W.jsx("div",{className:"border rounded py-3 bg-white",style:{cursor:"pointer",minWidth:"80px",maxWidth:"80px",textAlign:"center",userSelect:"none"},onClick:gt=>{gt.stopPropagation(),f(!0)},title:"Ver reportes",children:W.jsx("h5",{className:"mb-0",children:r})}),W.jsx("div",{className:"d-flex flex-wrap gap-2 justify-content-end",children:v?W.jsx("span",{children:"Cargando..."}):[...Array(10)].map((gt,ut)=>W.jsx("div",{className:"border rounded",style:{width:"60px",height:"60px",backgroundColor:ut<Q?"orange":"white"},title:ut<Q?"Reporte enviado":"Enviar reporte"},ut))})]}),W.jsx(E2,{showModal:A,onClose:()=>b(!1),onSuccess:mt}),W.jsx(p0,{show:i,onClose:()=>s(!1),onSubmit:z,trabajadores:e}),W.jsx(y2,{show:u,onClose:()=>f(!1),nombre:r,reportes:d})]})},A2=({trabajadores:r})=>W.jsx("div",{className:"container py-3",children:r.map((e,i)=>W.jsx(T2,{nombre:e,trabajadores:r},i))}),S2=()=>{const r=["Jose","Blanca","Ehedei","Pietro","Ana","Flor","Cristian","Carlota","Victor"],[e,i]=Vn.useState(!1),s=u=>{console.log("Reporte enviado:",u)};return W.jsx("div",{className:"min-vh-100 d-flex justify-content-center bg-light px-3 py-5 w-100",children:W.jsx("div",{className:"w-100",style:{maxWidth:"600px"},children:W.jsxs("div",{className:"bg-secondary bg-dark rounded-4 shadow p-4 p-sm-5",children:[W.jsx(aT,{}),W.jsxs("main",{className:"text-center",children:[W.jsx("p",{className:"fs-5 fw-semibold text-white",children:"La acumulacin de 10 faltas en un mes conlleva"}),W.jsx(sT,{}),W.jsx(A2,{trabajadores:r}),W.jsx(p0,{show:e,onClose:()=>i(!1),onSubmit:s,trabajadores:r})]})]})})})};nT.createRoot(document.getElementById("root")).render(W.jsx(Vn.StrictMode,{children:W.jsx(S2,{})}));
